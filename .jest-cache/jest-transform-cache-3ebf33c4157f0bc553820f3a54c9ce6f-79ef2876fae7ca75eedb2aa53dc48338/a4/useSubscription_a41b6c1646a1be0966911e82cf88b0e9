62bbd82e7fab1a0ee70cd77e6a502c6e
/**
 * useSubscription Hook - React hook for subscription tier management
 * Provides subscription feature gating and usage limit checking
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    useSubscription: function() {
        return useSubscription;
    },
    useUsageTracking: function() {
        return useUsageTracking;
    }
});
const _react = require("react");
const _UserContext = require("../context/UserContext");
const _subscriptionService = require("../utils/subscriptionService");
const _logger = require("../utils/logger");
function useSubscription() {
    const { org, avatars, loadingState } = (0, _UserContext.useUser)();
    // Debug logging
    console.log('useSubscription Debug - Raw org data:', org);
    console.log('useSubscription Debug - Loading state:', loadingState);
    const subscriptionPlan = org?.subscriptionPlan || null;
    const tier = subscriptionPlan?.tier || null;
    const isLoaded = loadingState.isReady;
    // Current usage calculations
    const currentUsage = (0, _react.useMemo)(()=>({
            avatarsCount: avatars?.length || 0,
            isLoadingUsage: loadingState.avatars
        }), [
        avatars,
        loadingState.avatars
    ]);
    // Feature checking functions
    const canAccessFeature = (0, _react.useCallback)((feature)=>{
        if (!isLoaded) {
            return {
                allowed: false,
                reason: 'Loading subscription information...'
            };
        }
        return _subscriptionService.SubscriptionService.canAccessFeature(subscriptionPlan, feature);
    }, [
        subscriptionPlan,
        isLoaded
    ]);
    const hasFeature = (0, _react.useCallback)((feature)=>{
        const result = canAccessFeature(feature);
        return result.allowed;
    }, [
        canAccessFeature
    ]);
    // Usage limit checking
    const canCreateAvatar = (0, _react.useCallback)(()=>{
        if (!isLoaded || currentUsage.isLoadingUsage) {
            return {
                allowed: false,
                reason: 'Loading avatar information...'
            };
        }
        const result = _subscriptionService.SubscriptionService.canCreateAvatar(subscriptionPlan, currentUsage.avatarsCount);
        // Log avatar creation attempts for analytics
        if (!result.allowed) {
            _logger.logger.info('Avatar creation blocked by subscription limit:', {
                tier,
                currentCount: currentUsage.avatarsCount,
                limit: result.limit
            });
        }
        return result;
    }, [
        subscriptionPlan,
        currentUsage,
        isLoaded,
        tier
    ]);
    const canCreateCollection = (0, _react.useCallback)(()=>{
        // For now, we'll use a simplified check
        // In the future, we could fetch per-avatar collection counts
        const estimatedCollectionsCount = 5; // This would be fetched from database
        return _subscriptionService.SubscriptionService.canCreateCollection(subscriptionPlan, estimatedCollectionsCount);
    }, [
        subscriptionPlan
    ]);
    const checkUsageLimit = (0, _react.useCallback)((limitType, currentUsage)=>{
        return _subscriptionService.SubscriptionService.checkUsageLimit(subscriptionPlan, limitType, currentUsage);
    }, [
        subscriptionPlan
    ]);
    // Utility functions
    const getAvailableFeatures = (0, _react.useCallback)(()=>{
        return _subscriptionService.SubscriptionService.getAvailableFeatures(subscriptionPlan);
    }, [
        subscriptionPlan
    ]);
    const getUsageSummary = (0, _react.useCallback)((usageData)=>{
        return _subscriptionService.SubscriptionService.getUsageSummary(subscriptionPlan, usageData);
    }, [
        subscriptionPlan
    ]);
    const formatFeatureMessage = (0, _react.useCallback)((result, feature)=>{
        return _subscriptionService.SubscriptionService.formatFeatureGateMessage(result);
    }, []);
    return {
        // Subscription plan info
        subscriptionPlan,
        tier,
        isLoaded,
        // Feature checking
        canAccessFeature,
        hasFeature,
        // Usage checking
        canCreateAvatar,
        canCreateCollection,
        checkUsageLimit,
        // Utility methods
        getAvailableFeatures,
        getUsageSummary,
        formatFeatureMessage,
        // Current usage
        currentUsage
    };
}
function useUsageTracking() {
    const { subscriptionPlan, currentUsage } = useSubscription();
    const trackUsage = (0, _react.useCallback)(async (action, metadata)=>{
        // Analytics tracking for subscription usage
        _logger.logger.info('Subscription usage tracked:', {
            action,
            tier: subscriptionPlan?.tier,
            currentAvatars: currentUsage.avatarsCount,
            metadata
        });
    // Here we could send to analytics service or external tracking
    }, [
        subscriptionPlan,
        currentUsage
    ]);
    return {
        trackUsage
    };
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6XFxQcm9qZWN0c1xcZmFtaWx5LW9yaWVudGVkXFxzcmNcXGhvb2tzXFx1c2VTdWJzY3JpcHRpb24udHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiB1c2VTdWJzY3JpcHRpb24gSG9vayAtIFJlYWN0IGhvb2sgZm9yIHN1YnNjcmlwdGlvbiB0aWVyIG1hbmFnZW1lbnRcclxuICogUHJvdmlkZXMgc3Vic2NyaXB0aW9uIGZlYXR1cmUgZ2F0aW5nIGFuZCB1c2FnZSBsaW1pdCBjaGVja2luZ1xyXG4gKi9cclxuXHJcbmltcG9ydCB7IHVzZU1lbW8sIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyB1c2VVc2VyIH0gZnJvbSAnQC9jb250ZXh0L1VzZXJDb250ZXh0JztcclxuaW1wb3J0IHsgXHJcbiAgU3Vic2NyaXB0aW9uU2VydmljZSwgXHJcbiAgdHlwZSBTdWJzY3JpcHRpb25GZWF0dXJlLCBcclxuICB0eXBlIFVzYWdlTGltaXQsIFxyXG4gIHR5cGUgRmVhdHVyZUdhdGVSZXN1bHQsXHJcbiAgdHlwZSBVc2FnZURhdGFcclxufSBmcm9tICdAL3V0aWxzL3N1YnNjcmlwdGlvblNlcnZpY2UnO1xyXG5cclxuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnQC91dGlscy9sb2dnZXInO1xyXG5cclxuLyoqXHJcbiAqIEhvb2sgcmV0dXJuIHR5cGVcclxuICovXHJcbmludGVyZmFjZSBVc2VTdWJzY3JpcHRpb25SZXR1cm4ge1xyXG4gIC8vIFN1YnNjcmlwdGlvbiBwbGFuIGluZm9cclxuICBzdWJzY3JpcHRpb25QbGFuOiBhbnkgfCBudWxsO1xyXG4gIHRpZXI6IHN0cmluZyB8IG51bGw7XHJcbiAgaXNMb2FkZWQ6IGJvb2xlYW47XHJcbiAgXHJcbiAgLy8gRmVhdHVyZSBjaGVja2luZ1xyXG4gIGNhbkFjY2Vzc0ZlYXR1cmU6IChmZWF0dXJlOiBTdWJzY3JpcHRpb25GZWF0dXJlKSA9PiBGZWF0dXJlR2F0ZVJlc3VsdDtcclxuICBoYXNGZWF0dXJlOiAoZmVhdHVyZTogU3Vic2NyaXB0aW9uRmVhdHVyZSkgPT4gYm9vbGVhbjtcclxuICBcclxuICAvLyBVc2FnZSBjaGVja2luZ1xyXG4gIGNhbkNyZWF0ZUF2YXRhcjogKCkgPT4gRmVhdHVyZUdhdGVSZXN1bHQ7XHJcbiAgY2FuQ3JlYXRlQ29sbGVjdGlvbjogKGF2YXRhcklkPzogc3RyaW5nKSA9PiBGZWF0dXJlR2F0ZVJlc3VsdDtcclxuICBjaGVja1VzYWdlTGltaXQ6IChsaW1pdFR5cGU6IFVzYWdlTGltaXQsIGN1cnJlbnRVc2FnZTogbnVtYmVyKSA9PiBGZWF0dXJlR2F0ZVJlc3VsdDtcclxuICBcclxuICAvLyBVdGlsaXR5IG1ldGhvZHNcclxuICBnZXRBdmFpbGFibGVGZWF0dXJlczogKCkgPT4gU3Vic2NyaXB0aW9uRmVhdHVyZVtdO1xyXG4gIGdldFVzYWdlU3VtbWFyeTogKHVzYWdlRGF0YTogVXNhZ2VEYXRhKSA9PiBSZWNvcmQ8VXNhZ2VMaW1pdCwgRmVhdHVyZUdhdGVSZXN1bHQ+O1xyXG4gIGZvcm1hdEZlYXR1cmVNZXNzYWdlOiAocmVzdWx0OiBGZWF0dXJlR2F0ZVJlc3VsdCwgZmVhdHVyZT86IHN0cmluZykgPT4gc3RyaW5nO1xyXG4gIFxyXG4gIC8vIEN1cnJlbnQgdXNhZ2UgZGF0YVxyXG4gIGN1cnJlbnRVc2FnZToge1xyXG4gICAgYXZhdGFyc0NvdW50OiBudW1iZXI7XHJcbiAgICBpc0xvYWRpbmdVc2FnZTogYm9vbGVhbjtcclxuICB9O1xyXG59XHJcblxyXG4vKipcclxuICogU3Vic2NyaXB0aW9uIG1hbmFnZW1lbnQgaG9va1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHVzZVN1YnNjcmlwdGlvbigpOiBVc2VTdWJzY3JpcHRpb25SZXR1cm4ge1xyXG4gIGNvbnN0IHsgb3JnLCBhdmF0YXJzLCBsb2FkaW5nU3RhdGUgfSA9IHVzZVVzZXIoKTtcclxuICBcclxuICAvLyBEZWJ1ZyBsb2dnaW5nXHJcbiAgY29uc29sZS5sb2coJ3VzZVN1YnNjcmlwdGlvbiBEZWJ1ZyAtIFJhdyBvcmcgZGF0YTonLCBvcmcpO1xyXG4gIGNvbnNvbGUubG9nKCd1c2VTdWJzY3JpcHRpb24gRGVidWcgLSBMb2FkaW5nIHN0YXRlOicsIGxvYWRpbmdTdGF0ZSk7XHJcbiAgXHJcbiAgY29uc3Qgc3Vic2NyaXB0aW9uUGxhbiA9IG9yZz8uc3Vic2NyaXB0aW9uUGxhbiB8fCBudWxsO1xyXG4gIGNvbnN0IHRpZXIgPSBzdWJzY3JpcHRpb25QbGFuPy50aWVyIHx8IG51bGw7XHJcbiAgY29uc3QgaXNMb2FkZWQgPSBsb2FkaW5nU3RhdGUuaXNSZWFkeTtcclxuXHJcbiAgLy8gQ3VycmVudCB1c2FnZSBjYWxjdWxhdGlvbnNcclxuICBjb25zdCBjdXJyZW50VXNhZ2UgPSB1c2VNZW1vKCgpID0+ICh7XHJcbiAgICBhdmF0YXJzQ291bnQ6IGF2YXRhcnM/Lmxlbmd0aCB8fCAwLFxyXG4gICAgaXNMb2FkaW5nVXNhZ2U6IGxvYWRpbmdTdGF0ZS5hdmF0YXJzXHJcbiAgfSksIFthdmF0YXJzLCBsb2FkaW5nU3RhdGUuYXZhdGFyc10pO1xyXG5cclxuICAvLyBGZWF0dXJlIGNoZWNraW5nIGZ1bmN0aW9uc1xyXG4gIGNvbnN0IGNhbkFjY2Vzc0ZlYXR1cmUgPSB1c2VDYWxsYmFjaygoZmVhdHVyZTogU3Vic2NyaXB0aW9uRmVhdHVyZSk6IEZlYXR1cmVHYXRlUmVzdWx0ID0+IHtcclxuICAgIGlmICghaXNMb2FkZWQpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBhbGxvd2VkOiBmYWxzZSxcclxuICAgICAgICByZWFzb246ICdMb2FkaW5nIHN1YnNjcmlwdGlvbiBpbmZvcm1hdGlvbi4uLidcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIFN1YnNjcmlwdGlvblNlcnZpY2UuY2FuQWNjZXNzRmVhdHVyZShzdWJzY3JpcHRpb25QbGFuLCBmZWF0dXJlKTtcclxuICB9LCBbc3Vic2NyaXB0aW9uUGxhbiwgaXNMb2FkZWRdKTtcclxuXHJcbiAgY29uc3QgaGFzRmVhdHVyZSA9IHVzZUNhbGxiYWNrKChmZWF0dXJlOiBTdWJzY3JpcHRpb25GZWF0dXJlKTogYm9vbGVhbiA9PiB7XHJcbiAgICBjb25zdCByZXN1bHQgPSBjYW5BY2Nlc3NGZWF0dXJlKGZlYXR1cmUpO1xyXG4gICAgcmV0dXJuIHJlc3VsdC5hbGxvd2VkO1xyXG4gIH0sIFtjYW5BY2Nlc3NGZWF0dXJlXSk7XHJcblxyXG4gIC8vIFVzYWdlIGxpbWl0IGNoZWNraW5nXHJcbiAgY29uc3QgY2FuQ3JlYXRlQXZhdGFyID0gdXNlQ2FsbGJhY2soKCk6IEZlYXR1cmVHYXRlUmVzdWx0ID0+IHtcclxuICAgIGlmICghaXNMb2FkZWQgfHwgY3VycmVudFVzYWdlLmlzTG9hZGluZ1VzYWdlKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgYWxsb3dlZDogZmFsc2UsXHJcbiAgICAgICAgcmVhc29uOiAnTG9hZGluZyBhdmF0YXIgaW5mb3JtYXRpb24uLi4nXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IHJlc3VsdCA9IFN1YnNjcmlwdGlvblNlcnZpY2UuY2FuQ3JlYXRlQXZhdGFyKHN1YnNjcmlwdGlvblBsYW4sIGN1cnJlbnRVc2FnZS5hdmF0YXJzQ291bnQpO1xyXG4gICAgXHJcbiAgICAvLyBMb2cgYXZhdGFyIGNyZWF0aW9uIGF0dGVtcHRzIGZvciBhbmFseXRpY3NcclxuICAgIGlmICghcmVzdWx0LmFsbG93ZWQpIHtcclxuICAgICAgbG9nZ2VyLmluZm8oJ0F2YXRhciBjcmVhdGlvbiBibG9ja2VkIGJ5IHN1YnNjcmlwdGlvbiBsaW1pdDonLCB7XHJcbiAgICAgICAgdGllcixcclxuICAgICAgICBjdXJyZW50Q291bnQ6IGN1cnJlbnRVc2FnZS5hdmF0YXJzQ291bnQsXHJcbiAgICAgICAgbGltaXQ6IHJlc3VsdC5saW1pdFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9LCBbc3Vic2NyaXB0aW9uUGxhbiwgY3VycmVudFVzYWdlLCBpc0xvYWRlZCwgdGllcl0pO1xyXG5cclxuICBjb25zdCBjYW5DcmVhdGVDb2xsZWN0aW9uID0gdXNlQ2FsbGJhY2soKCk6IEZlYXR1cmVHYXRlUmVzdWx0ID0+IHtcclxuICAgIC8vIEZvciBub3csIHdlJ2xsIHVzZSBhIHNpbXBsaWZpZWQgY2hlY2tcclxuICAgIC8vIEluIHRoZSBmdXR1cmUsIHdlIGNvdWxkIGZldGNoIHBlci1hdmF0YXIgY29sbGVjdGlvbiBjb3VudHNcclxuICAgIGNvbnN0IGVzdGltYXRlZENvbGxlY3Rpb25zQ291bnQgPSA1OyAvLyBUaGlzIHdvdWxkIGJlIGZldGNoZWQgZnJvbSBkYXRhYmFzZVxyXG4gICAgXHJcbiAgICByZXR1cm4gU3Vic2NyaXB0aW9uU2VydmljZS5jYW5DcmVhdGVDb2xsZWN0aW9uKHN1YnNjcmlwdGlvblBsYW4sIGVzdGltYXRlZENvbGxlY3Rpb25zQ291bnQpO1xyXG4gIH0sIFtzdWJzY3JpcHRpb25QbGFuXSk7XHJcblxyXG4gIGNvbnN0IGNoZWNrVXNhZ2VMaW1pdCA9IHVzZUNhbGxiYWNrKChcclxuICAgIGxpbWl0VHlwZTogVXNhZ2VMaW1pdCwgXHJcbiAgICBjdXJyZW50VXNhZ2U6IG51bWJlclxyXG4gICk6IEZlYXR1cmVHYXRlUmVzdWx0ID0+IHtcclxuICAgIHJldHVybiBTdWJzY3JpcHRpb25TZXJ2aWNlLmNoZWNrVXNhZ2VMaW1pdChzdWJzY3JpcHRpb25QbGFuLCBsaW1pdFR5cGUsIGN1cnJlbnRVc2FnZSk7XHJcbiAgfSwgW3N1YnNjcmlwdGlvblBsYW5dKTtcclxuXHJcbiAgLy8gVXRpbGl0eSBmdW5jdGlvbnNcclxuICBjb25zdCBnZXRBdmFpbGFibGVGZWF0dXJlcyA9IHVzZUNhbGxiYWNrKCgpOiBTdWJzY3JpcHRpb25GZWF0dXJlW10gPT4ge1xyXG4gICAgcmV0dXJuIFN1YnNjcmlwdGlvblNlcnZpY2UuZ2V0QXZhaWxhYmxlRmVhdHVyZXMoc3Vic2NyaXB0aW9uUGxhbik7XHJcbiAgfSwgW3N1YnNjcmlwdGlvblBsYW5dKTtcclxuXHJcbiAgY29uc3QgZ2V0VXNhZ2VTdW1tYXJ5ID0gdXNlQ2FsbGJhY2soKHVzYWdlRGF0YTogVXNhZ2VEYXRhKSA9PiB7XHJcbiAgICByZXR1cm4gU3Vic2NyaXB0aW9uU2VydmljZS5nZXRVc2FnZVN1bW1hcnkoc3Vic2NyaXB0aW9uUGxhbiwgdXNhZ2VEYXRhKTtcclxuICB9LCBbc3Vic2NyaXB0aW9uUGxhbl0pO1xyXG5cclxuICBjb25zdCBmb3JtYXRGZWF0dXJlTWVzc2FnZSA9IHVzZUNhbGxiYWNrKChcclxuICAgIHJlc3VsdDogRmVhdHVyZUdhdGVSZXN1bHQsIFxyXG4gICAgZmVhdHVyZT86IHN0cmluZ1xyXG4gICk6IHN0cmluZyA9PiB7XHJcbiAgICByZXR1cm4gU3Vic2NyaXB0aW9uU2VydmljZS5mb3JtYXRGZWF0dXJlR2F0ZU1lc3NhZ2UocmVzdWx0KTtcclxuICB9LCBbXSk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICAvLyBTdWJzY3JpcHRpb24gcGxhbiBpbmZvXHJcbiAgICBzdWJzY3JpcHRpb25QbGFuLFxyXG4gICAgdGllcixcclxuICAgIGlzTG9hZGVkLFxyXG4gICAgXHJcbiAgICAvLyBGZWF0dXJlIGNoZWNraW5nXHJcbiAgICBjYW5BY2Nlc3NGZWF0dXJlLFxyXG4gICAgaGFzRmVhdHVyZSxcclxuICAgIFxyXG4gICAgLy8gVXNhZ2UgY2hlY2tpbmdcclxuICAgIGNhbkNyZWF0ZUF2YXRhcixcclxuICAgIGNhbkNyZWF0ZUNvbGxlY3Rpb24sXHJcbiAgICBjaGVja1VzYWdlTGltaXQsXHJcbiAgICBcclxuICAgIC8vIFV0aWxpdHkgbWV0aG9kc1xyXG4gICAgZ2V0QXZhaWxhYmxlRmVhdHVyZXMsXHJcbiAgICBnZXRVc2FnZVN1bW1hcnksXHJcbiAgICBmb3JtYXRGZWF0dXJlTWVzc2FnZSxcclxuICAgIFxyXG4gICAgLy8gQ3VycmVudCB1c2FnZVxyXG4gICAgY3VycmVudFVzYWdlXHJcbiAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEhvb2sgZm9yIHN1YnNjcmlwdGlvbi1zcGVjaWZpYyB1c2FnZSB0cmFja2luZ1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHVzZVVzYWdlVHJhY2tpbmcoKSB7XHJcbiAgY29uc3QgeyBzdWJzY3JpcHRpb25QbGFuLCBjdXJyZW50VXNhZ2UgfSA9IHVzZVN1YnNjcmlwdGlvbigpO1xyXG4gIFxyXG4gIGNvbnN0IHRyYWNrVXNhZ2UgPSB1c2VDYWxsYmFjayhhc3luYyAoXHJcbiAgICBhY3Rpb246ICdhdmF0YXJfY3JlYXRlZCcgfCAnY29sbGVjdGlvbl9jcmVhdGVkJyB8ICdzZXNzaW9uX3N0YXJ0ZWQnLFxyXG4gICAgbWV0YWRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+XHJcbiAgKSA9PiB7XHJcbiAgICAvLyBBbmFseXRpY3MgdHJhY2tpbmcgZm9yIHN1YnNjcmlwdGlvbiB1c2FnZVxyXG4gICAgbG9nZ2VyLmluZm8oJ1N1YnNjcmlwdGlvbiB1c2FnZSB0cmFja2VkOicsIHtcclxuICAgICAgYWN0aW9uLFxyXG4gICAgICB0aWVyOiBzdWJzY3JpcHRpb25QbGFuPy50aWVyLFxyXG4gICAgICBjdXJyZW50QXZhdGFyczogY3VycmVudFVzYWdlLmF2YXRhcnNDb3VudCxcclxuICAgICAgbWV0YWRhdGFcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAvLyBIZXJlIHdlIGNvdWxkIHNlbmQgdG8gYW5hbHl0aWNzIHNlcnZpY2Ugb3IgZXh0ZXJuYWwgdHJhY2tpbmdcclxuICB9LCBbc3Vic2NyaXB0aW9uUGxhbiwgY3VycmVudFVzYWdlXSk7XHJcbiAgXHJcbiAgcmV0dXJuIHsgdHJhY2tVc2FnZSB9O1xyXG59ICJdLCJuYW1lcyI6WyJ1c2VTdWJzY3JpcHRpb24iLCJ1c2VVc2FnZVRyYWNraW5nIiwib3JnIiwiYXZhdGFycyIsImxvYWRpbmdTdGF0ZSIsInVzZVVzZXIiLCJjb25zb2xlIiwibG9nIiwic3Vic2NyaXB0aW9uUGxhbiIsInRpZXIiLCJpc0xvYWRlZCIsImlzUmVhZHkiLCJjdXJyZW50VXNhZ2UiLCJ1c2VNZW1vIiwiYXZhdGFyc0NvdW50IiwibGVuZ3RoIiwiaXNMb2FkaW5nVXNhZ2UiLCJjYW5BY2Nlc3NGZWF0dXJlIiwidXNlQ2FsbGJhY2siLCJmZWF0dXJlIiwiYWxsb3dlZCIsInJlYXNvbiIsIlN1YnNjcmlwdGlvblNlcnZpY2UiLCJoYXNGZWF0dXJlIiwicmVzdWx0IiwiY2FuQ3JlYXRlQXZhdGFyIiwibG9nZ2VyIiwiaW5mbyIsImN1cnJlbnRDb3VudCIsImxpbWl0IiwiY2FuQ3JlYXRlQ29sbGVjdGlvbiIsImVzdGltYXRlZENvbGxlY3Rpb25zQ291bnQiLCJjaGVja1VzYWdlTGltaXQiLCJsaW1pdFR5cGUiLCJnZXRBdmFpbGFibGVGZWF0dXJlcyIsImdldFVzYWdlU3VtbWFyeSIsInVzYWdlRGF0YSIsImZvcm1hdEZlYXR1cmVNZXNzYWdlIiwiZm9ybWF0RmVhdHVyZUdhdGVNZXNzYWdlIiwidHJhY2tVc2FnZSIsImFjdGlvbiIsIm1ldGFkYXRhIiwiY3VycmVudEF2YXRhcnMiXSwibWFwcGluZ3MiOiJBQUFBOzs7Q0FHQzs7Ozs7Ozs7Ozs7SUErQ2VBLGVBQWU7ZUFBZkE7O0lBb0hBQyxnQkFBZ0I7ZUFBaEJBOzs7dUJBaktxQjs2QkFDYjtxQ0FPakI7d0JBRWdCO0FBbUNoQixTQUFTRDtJQUNkLE1BQU0sRUFBRUUsR0FBRyxFQUFFQyxPQUFPLEVBQUVDLFlBQVksRUFBRSxHQUFHQyxJQUFBQSxvQkFBTztJQUU5QyxnQkFBZ0I7SUFDaEJDLFFBQVFDLEdBQUcsQ0FBQyx5Q0FBeUNMO0lBQ3JESSxRQUFRQyxHQUFHLENBQUMsMENBQTBDSDtJQUV0RCxNQUFNSSxtQkFBbUJOLEtBQUtNLG9CQUFvQjtJQUNsRCxNQUFNQyxPQUFPRCxrQkFBa0JDLFFBQVE7SUFDdkMsTUFBTUMsV0FBV04sYUFBYU8sT0FBTztJQUVyQyw2QkFBNkI7SUFDN0IsTUFBTUMsZUFBZUMsSUFBQUEsY0FBTyxFQUFDLElBQU8sQ0FBQTtZQUNsQ0MsY0FBY1gsU0FBU1ks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
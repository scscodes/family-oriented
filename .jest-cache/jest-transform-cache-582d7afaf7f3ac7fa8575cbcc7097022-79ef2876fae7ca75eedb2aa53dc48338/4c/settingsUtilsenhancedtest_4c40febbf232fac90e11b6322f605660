676c95661fba0f6a93a1a49b44221c5d
/**
 * Enhanced Settings Utils Tests
 * 
 * This demonstrates the new testing standards with:
 * - Timeout protection for async operations
 * - Comprehensive error boundary testing
 * - Performance validation
 * - Standardized cleanup and safety measures
 * - Consistent test structure and naming
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _settingsUtils = require("../settingsUtils");
// Test timeout constants
const TEST_TIMEOUTS = {
    FAST: 1000,
    MEDIUM: 3000,
    SLOW: 5000
};
// Mock data factories
const createMockSettings = (overrides = {})=>({
        ..._settingsUtils.DEFAULT_SETTINGS.numbers,
        ...overrides
    });
describe('SettingsUtils - Enhanced Tests', ()=>{
    // Enhanced setup and cleanup
    beforeEach(()=>{
        jest.clearAllMocks();
        // Reset localStorage mock to default behavior
        localStorage.getItem.mockImplementation(()=>null);
        localStorage.setItem.mockImplementation(()=>{});
        localStorage.clear.mockImplementation(()=>{});
    });
    afterEach(()=>{
        jest.resetAllMocks();
        localStorage.clear();
    });
    describe('Settings Retrieval', ()=>{
        it('should return default settings when none saved', ()=>{
            const startTime = performance.now();
            const settings = (0, _settingsUtils.getSettings)('numbers');
            const executionTime = performance.now() - startTime;
            expect(settings).toEqual(_settingsUtils.DEFAULT_SETTINGS.numbers);
            expect(executionTime).toBeLessThan(100); // Performance check for sync operation
        });
        it('should load settings from localStorage with error handling', ()=>{
            const customSettings = createMockSettings({
                questionCount: 5
            });
            localStorage.getItem.mockReturnValue(JSON.stringify(customSettings));
            const settings = (0, _settingsUtils.getSettings)('numbers');
            expect(settings).toEqual(customSettings);
            expect(localStorage.getItem).toHaveBeenCalledWith('numbers_settings');
        });
        it('should handle corrupted localStorage data gracefully', ()=>{
            // Suppress console.error for this test
            const consoleSpy = jest.spyOn(console, 'error').mockImplementation(()=>{});
            // Mock corrupted JSON data
            localStorage.getItem.mockReturnValue('invalid-json-data');
            const settings = (0, _settingsUtils.getSettings)('numbers');
            // Should fallback to defaults when JSON is corrupted
            expect(settings).toEqual(_settingsUtils.DEFAULT_SETTINGS.numbers);
            expect(consoleSpy).toHaveBeenCalled();
            consoleSpy.mockRestore();
        });
        it('should handle localStorage errors without crashing', ()=>{
            // Mock localStorage.getItem to throw an error
            localStorage.getItem.mockImplementation(()=>{
                throw new Error('Storage access denied');
            });
            const consoleSpy = jest.spyOn(console, 'error').mockImplementation(()=>{});
            const settings = (0, _settingsUtils.getSettings)('numbers');
            // Should fallback to defaults when localStorage throws
            expect(settings).toEqual(_settingsUtils.DEFAULT_SETTINGS.numbers);
            consoleSpy.mockRestore();
        });
    });
    describe('Settings Persistence', ()=>{
        it('should save settings to localStorage successfully', ()=>{
            const startTime = performance.now();
            const customSettings = createMockSettings({
                questionCount: 7
            });
            (0, _settingsUtils.saveSettings)('numbers', customSettings);
            const executionTime = performance.now() - startTime;
            expect(localStorage.setItem).toHaveBeenCalledWith('numbers_settings', JSON.stringify(customSettings));
            expect(executionTime).toBeLessThan(100); // Performance check
        });
        it('should handle save errors gracefully', ()=>{
            // Mock localStorage.setItem to throw an error (e.g., quota exceeded)
            localStorage.setItem.mockImplementation(()=>{
                throw new Error('QuotaExceededError: Storage quota exceeded');
            });
            const consoleSpy = jest.spyOn(console, 'error').mockImplementation(()=>{});
            const customSettings = createMockSettings({
                questionCount: 15
            });
            // Should not throw error even when localStorage fails
            expect(()=>(0, _settingsUtils.saveSettings)('numbers', customSettings)).not.toThrow();
            consoleSpy.mockRestore();
        });
        it('should handle invalid settings data', ()=>{
            const consoleSpy = jest.spyOn(console, 'error').mockImplementation(()=>{});
            // Test with null settings
            (0, _settingsUtils.saveSettings)('numbers', null);
            // Test with undefined settings
            (0, _settingsUtils.saveSettings)('numbers', undefined);
            // Should not crash the application
            expect(consoleSpy).toHaveBeenCalled();
            consoleSpy.mockRestore();
        });
    });
    describe('Integration Tests', ()=>{
        it('should maintain data consistency through save/load cycle', ()=>{
            const originalSettings = createMockSettings({
                questionCount: 12,
                timeLimit: 300,
                difficultyLevel: 'medium'
            });
            // Save settings
            (0, _settingsUtils.saveSettings)('numbers', originalSettings);
            // Simulate successful localStorage behavior
            localStorage.getItem.mockReturnValue(JSON.stringify(originalSettings));
            // Load settings
            const loadedSettings = (0, _settingsUtils.getSettings)('numbers');
            expect(loadedSettings).toEqual(originalSettings);
            expect(loadedSettings).not.toBe(originalSettings); // Different object references
        });
        it('should handle rapid successive operations', ()=>{
            const operations = Array.from({
                length: 10
            }, (_, i)=>createMockSettings({
                    questionCount: i + 1
                }));
            const startTime = performance.now();
            // Perform multiple save operations rapidly
            operations.forEach((settings, index)=>{
                (0, _settingsUtils.saveSettings)(`test-${index}`, settings);
            });
            const executionTime = performance.now() - startTime;
            expect(localStorage.setItem).toHaveBeenCalledTimes(10);
            expect(executionTime).toBeLessThan(500); // Should complete quickly
        });
    });
    describe('Edge Cases & Error Boundaries', ()=>{
        it('should handle special characters in game keys', ()=>{
            const specialKeys = [
                'test-game',
                'game_with_underscores',
                'game.with.dots'
            ];
            const settings = createMockSettings();
            specialKeys.forEach((key)=>{
                expect(()=>(0, _settingsUtils.saveSettings)(key, settings)).not.toThrow();
                expect(()=>(0, _settingsUtils.getSettings)(key)).not.toThrow();
            });
        });
        it('should handle very large settings objects', ()=>{
            // Create a large settings object
            const largeSettings = createMockSettings({
                ...Array.from({
                    length: 100
                }, (_, i)=>({
                        [`prop${i}`]: `value${i}`
                    })).reduce((acc, obj)=>({
                        ...acc,
                        ...obj
                    }), {})
            });
            const startTime = performance.now();
            (0, _settingsUtils.saveSettings)('large-test', largeSettings);
            const executionTime = performance.now() - startTime;
            // Should handle large objects without significant performance impact
            expect(executionTime).toBeLessThan(200);
        });
        it('should handle empty and null values appropriately', ()=>{
            const edgeCases = [
                {
                    key: 'empty-string',
                    settings: createMockSettings({
                        questionCount: ''
                    })
                },
                {
                    key: 'zero-values',
                    settings: createMockSettings({
                        questionCount: 0
                    })
                },
                {
                    key: 'negative-values',
                    settings: createMockSettings({
                        questionCount: -1
                    })
                }
            ];
            edgeCases.forEach(({ key, settings })=>{
                expect(()=>(0, _settingsUtils.saveSettings)(key, settings)).not.toThrow();
                expect(()=>(0, _settingsUtils.getSettings)(key)).not.toThrow();
            });
        });
    });
    describe('Performance Validation', ()=>{
        it('should complete operations within performance budgets', async ()=>{
            const iterations = 50;
            const maxTimePerOperation = 10; // ms
            const times = [];
            for(let i = 0; i < iterations; i++){
                const startTime = performance.now();
                const settings = createMockSettings({
                    questionCount: i
                });
                (0, _settingsUtils.saveSettings)(`perf-test-${i}`, settings);
                (0, _settingsUtils.getSettings)(`perf-test-${i}`);
                const endTime = performance.now();
                times.push(endTime - startTime);
            }
            const averageTime = times.reduce((sum, time)=>sum + time, 0) / times.length;
            const maxTime = Math.max(...times);
            expect(averageTime).toBeLessThan(maxTimePerOperation);
            expect(maxTime).toBeLessThan(maxTimePerOperation * 2); // Allow some variance
        }, TEST_TIMEOUTS.MEDIUM);
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxyZXBvc1xcZmFtaWx5LW9yaWVudGVkXFxzcmNcXHV0aWxzXFxfX3Rlc3RzX19cXHNldHRpbmdzVXRpbHMuZW5oYW5jZWQudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogRW5oYW5jZWQgU2V0dGluZ3MgVXRpbHMgVGVzdHNcclxuICogXHJcbiAqIFRoaXMgZGVtb25zdHJhdGVzIHRoZSBuZXcgdGVzdGluZyBzdGFuZGFyZHMgd2l0aDpcclxuICogLSBUaW1lb3V0IHByb3RlY3Rpb24gZm9yIGFzeW5jIG9wZXJhdGlvbnNcclxuICogLSBDb21wcmVoZW5zaXZlIGVycm9yIGJvdW5kYXJ5IHRlc3RpbmdcclxuICogLSBQZXJmb3JtYW5jZSB2YWxpZGF0aW9uXHJcbiAqIC0gU3RhbmRhcmRpemVkIGNsZWFudXAgYW5kIHNhZmV0eSBtZWFzdXJlc1xyXG4gKiAtIENvbnNpc3RlbnQgdGVzdCBzdHJ1Y3R1cmUgYW5kIG5hbWluZ1xyXG4gKi9cclxuXHJcbmltcG9ydCB7IGdldFNldHRpbmdzLCBzYXZlU2V0dGluZ3MsIERFRkFVTFRfU0VUVElOR1MgfSBmcm9tICcuLi9zZXR0aW5nc1V0aWxzJztcclxuXHJcbi8vIFRlc3QgdGltZW91dCBjb25zdGFudHNcclxuY29uc3QgVEVTVF9USU1FT1VUUyA9IHtcclxuICBGQVNUOiAxMDAwLFxyXG4gIE1FRElVTTogMzAwMCxcclxuICBTTE9XOiA1MDAwXHJcbn0gYXMgY29uc3Q7XHJcblxyXG4vLyBNb2NrIGRhdGEgZmFjdG9yaWVzXHJcbmNvbnN0IGNyZWF0ZU1vY2tTZXR0aW5ncyA9IChvdmVycmlkZXMgPSB7fSkgPT4gKHtcclxuICAuLi5ERUZBVUxUX1NFVFRJTkdTLm51bWJlcnMsXHJcbiAgLi4ub3ZlcnJpZGVzXHJcbn0pO1xyXG5cclxuZGVzY3JpYmUoJ1NldHRpbmdzVXRpbHMgLSBFbmhhbmNlZCBUZXN0cycsICgpID0+IHtcclxuICAvLyBFbmhhbmNlZCBzZXR1cCBhbmQgY2xlYW51cFxyXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XHJcbiAgICBcclxuICAgIC8vIFJlc2V0IGxvY2FsU3RvcmFnZSBtb2NrIHRvIGRlZmF1bHQgYmVoYXZpb3JcclxuICAgIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSBhcyBqZXN0Lk1vY2spLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiBudWxsKTtcclxuICAgIChsb2NhbFN0b3JhZ2Uuc2V0SXRlbSBhcyBqZXN0Lk1vY2spLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7fSk7XHJcbiAgICAobG9jYWxTdG9yYWdlLmNsZWFyIGFzIGplc3QuTW9jaykubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHt9KTtcclxuICB9KTtcclxuXHJcbiAgYWZ0ZXJFYWNoKCgpID0+IHtcclxuICAgIGplc3QucmVzZXRBbGxNb2NrcygpO1xyXG4gICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdTZXR0aW5ncyBSZXRyaWV2YWwnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHJldHVybiBkZWZhdWx0IHNldHRpbmdzIHdoZW4gbm9uZSBzYXZlZCcsICgpID0+IHtcclxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBzZXR0aW5ncyA9IGdldFNldHRpbmdzKCdudW1iZXJzJyk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBleGVjdXRpb25UaW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydFRpbWU7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3Qoc2V0dGluZ3MpLnRvRXF1YWwoREVGQVVMVF9TRVRUSU5HUy5udW1iZXJzKTtcclxuICAgICAgZXhwZWN0KGV4ZWN1dGlvblRpbWUpLnRvQmVMZXNzVGhhbigxMDApOyAvLyBQZXJmb3JtYW5jZSBjaGVjayBmb3Igc3luYyBvcGVyYXRpb25cclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgbG9hZCBzZXR0aW5ncyBmcm9tIGxvY2FsU3RvcmFnZSB3aXRoIGVycm9yIGhhbmRsaW5nJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBjdXN0b21TZXR0aW5ncyA9IGNyZWF0ZU1vY2tTZXR0aW5ncyh7IHF1ZXN0aW9uQ291bnQ6IDUgfSk7XHJcbiAgICAgIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZShKU09OLnN0cmluZ2lmeShjdXN0b21TZXR0aW5ncykpO1xyXG4gICAgICBcclxuICAgICAgY29uc3Qgc2V0dGluZ3MgPSBnZXRTZXR0aW5ncygnbnVtYmVycycpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHNldHRpbmdzKS50b0VxdWFsKGN1c3RvbVNldHRpbmdzKTtcclxuICAgICAgZXhwZWN0KGxvY2FsU3RvcmFnZS5nZXRJdGVtKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnbnVtYmVyc19zZXR0aW5ncycpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgY29ycnVwdGVkIGxvY2FsU3RvcmFnZSBkYXRhIGdyYWNlZnVsbHknLCAoKSA9PiB7XHJcbiAgICAgIC8vIFN1cHByZXNzIGNvbnNvbGUuZXJyb3IgZm9yIHRoaXMgdGVzdFxyXG4gICAgICBjb25zdCBjb25zb2xlU3B5ID0gamVzdC5zcHlPbihjb25zb2xlLCAnZXJyb3InKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge30pO1xyXG4gICAgICBcclxuICAgICAgLy8gTW9jayBjb3JydXB0ZWQgSlNPTiBkYXRhXHJcbiAgICAgIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZSgnaW52YWxpZC1qc29uLWRhdGEnKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHNldHRpbmdzID0gZ2V0U2V0dGluZ3MoJ251bWJlcnMnKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFNob3VsZCBmYWxsYmFjayB0byBkZWZhdWx0cyB3aGVuIEpTT04gaXMgY29ycnVwdGVkXHJcbiAgICAgIGV4cGVjdChzZXR0aW5ncykudG9FcXVhbChERUZBVUxUX1NFVFRJTkdTLm51bWJlcnMpO1xyXG4gICAgICBleHBlY3QoY29uc29sZVNweSkudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gICAgICBcclxuICAgICAgY29uc29sZVNweS5tb2NrUmVzdG9yZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbG9jYWxTdG9yYWdlIGVycm9ycyB3aXRob3V0IGNyYXNoaW5nJywgKCkgPT4ge1xyXG4gICAgICAvLyBNb2NrIGxvY2FsU3RvcmFnZS5nZXRJdGVtIHRvIHRocm93IGFuIGVycm9yXHJcbiAgICAgIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSBhcyBqZXN0Lk1vY2spLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdG9yYWdlIGFjY2VzcyBkZW5pZWQnKTtcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBjb25zb2xlU3B5ID0gamVzdC5zcHlPbihjb25zb2xlLCAnZXJyb3InKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge30pO1xyXG4gICAgICBcclxuICAgICAgY29uc3Qgc2V0dGluZ3MgPSBnZXRTZXR0aW5ncygnbnVtYmVycycpO1xyXG4gICAgICBcclxuICAgICAgLy8gU2hvdWxkIGZhbGxiYWNrIHRvIGRlZmF1bHRzIHdoZW4gbG9jYWxTdG9yYWdlIHRocm93c1xyXG4gICAgICBleHBlY3Qoc2V0dGluZ3MpLnRvRXF1YWwoREVGQVVMVF9TRVRUSU5HUy5udW1iZXJzKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGVTcHkubW9ja1Jlc3RvcmUoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnU2V0dGluZ3MgUGVyc2lzdGVuY2UnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHNhdmUgc2V0dGluZ3MgdG8gbG9jYWxTdG9yYWdlIHN1Y2Nlc3NmdWxseScsICgpID0+IHtcclxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XHJcbiAgICAgIGNvbnN0IGN1c3RvbVNldHRpbmdzID0gY3JlYXRlTW9ja1NldHRpbmdzKHsgcXVlc3Rpb25Db3VudDogNyB9KTtcclxuICAgICAgXHJcbiAgICAgIHNhdmVTZXR0aW5ncygnbnVtYmVycycsIGN1c3RvbVNldHRpbmdzKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGV4ZWN1dGlvblRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0VGltZTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChsb2NhbFN0b3JhZ2Uuc2V0SXRlbSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXHJcbiAgICAgICAgJ251bWJlcnNfc2V0dGluZ3MnLCBcclxuICAgICAgICBKU09OLnN0cmluZ2lmeShjdXN0b21TZXR0aW5ncylcclxuICAgICAgKTtcclxuICAgICAgZXhwZWN0KGV4ZWN1dGlvblRpbWUpLnRvQmVMZXNzVGhhbigxMDApOyAvLyBQZXJmb3JtYW5jZSBjaGVja1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgc2F2ZSBlcnJvcnMgZ3JhY2VmdWxseScsICgpID0+IHtcclxuICAgICAgLy8gTW9jayBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSB0byB0aHJvdyBhbiBlcnJvciAoZS5nLiwgcXVvdGEgZXhjZWVkZWQpXHJcbiAgICAgIChsb2NhbFN0b3JhZ2Uuc2V0SXRlbSBhcyBqZXN0Lk1vY2spLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdRdW90YUV4Y2VlZGVkRXJyb3I6IFN0b3JhZ2UgcXVvdGEgZXhjZWVkZWQnKTtcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBjb25zb2xlU3B5ID0gamVzdC5zcHlPbihjb25zb2xlLCAnZXJyb3InKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge30pO1xyXG4gICAgICBjb25zdCBjdXN0b21TZXR0aW5ncyA9IGNyZWF0ZU1vY2tTZXR0aW5ncyh7IHF1ZXN0aW9uQ291bnQ6IDE1IH0pO1xyXG4gICAgICBcclxuICAgICAgLy8gU2hvdWxkIG5vdCB0aHJvdyBlcnJvciBldmVuIHdoZW4gbG9jYWxTdG9yYWdlIGZhaWxzXHJcbiAgICAgIGV4cGVjdCgoKSA9PiBzYXZlU2V0dGluZ3MoJ251bWJlcnMnLCBjdXN0b21TZXR0aW5ncykpLm5vdC50b1Rocm93KCk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlU3B5Lm1vY2tSZXN0b3JlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBpbnZhbGlkIHNldHRpbmdzIGRhdGEnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNvbnNvbGVTcHkgPSBqZXN0LnNweU9uKGNvbnNvbGUsICdlcnJvcicpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7fSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBUZXN0IHdpdGggbnVsbCBzZXR0aW5nc1xyXG4gICAgICBzYXZlU2V0dGluZ3MoJ251bWJlcnMnLCBudWxsIGFzIHVua25vd24gYXMgUGFyYW1ldGVyczx0eXBlb2Ygc2F2ZVNldHRpbmdzPlsxXSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBUZXN0IHdpdGggdW5kZWZpbmVkIHNldHRpbmdzXHJcbiAgICAgIHNhdmVTZXR0aW5ncygnbnVtYmVycycsIHVuZGVmaW5lZCBhcyB1bmtub3duIGFzIFBhcmFtZXRlcnM8dHlwZW9mIHNhdmVTZXR0aW5ncz5bMV0pO1xyXG4gICAgICBcclxuICAgICAgLy8gU2hvdWxkIG5vdCBjcmFzaCB0aGUgYXBwbGljYXRpb25cclxuICAgICAgZXhwZWN0KGNvbnNvbGVTcHkpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGVTcHkubW9ja1Jlc3RvcmUoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnSW50ZWdyYXRpb24gVGVzdHMnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIG1haW50YWluIGRhdGEgY29uc2lzdGVuY3kgdGhyb3VnaCBzYXZlL2xvYWQgY3ljbGUnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG9yaWdpbmFsU2V0dGluZ3MgPSBjcmVhdGVNb2NrU2V0dGluZ3Moe1xyXG4gICAgICAgIHF1ZXN0aW9uQ291bnQ6IDEyLFxyXG4gICAgICAgIHRpbWVMaW1pdDogMzAwLFxyXG4gICAgICAgIGRpZmZpY3VsdHlMZXZlbDogJ21lZGl1bSdcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBTYXZlIHNldHRpbmdzXHJcbiAgICAgIHNhdmVTZXR0aW5ncygnbnVtYmVycycsIG9yaWdpbmFsU2V0dGluZ3MpO1xyXG4gICAgICBcclxuICAgICAgLy8gU2ltdWxhdGUgc3VjY2Vzc2Z1bCBsb2NhbFN0b3JhZ2UgYmVoYXZpb3JcclxuICAgICAgKGxvY2FsU3RvcmFnZS5nZXRJdGVtIGFzIGplc3QuTW9jaykubW9ja1JldHVyblZhbHVlKFxyXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KG9yaWdpbmFsU2V0dGluZ3MpXHJcbiAgICAgICk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBMb2FkIHNldHRpbmdzXHJcbiAgICAgIGNvbnN0IGxvYWRlZFNldHRpbmdzID0gZ2V0U2V0dGluZ3MoJ251bWJlcnMnKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChsb2FkZWRTZXR0aW5ncykudG9FcXVhbChvcmlnaW5hbFNldHRpbmdzKTtcclxuICAgICAgZXhwZWN0KGxvYWRlZFNldHRpbmdzKS5ub3QudG9CZShvcmlnaW5hbFNldHRpbmdzKTsgLy8gRGlmZmVyZW50IG9iamVjdCByZWZlcmVuY2VzXHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSByYXBpZCBzdWNjZXNzaXZlIG9wZXJhdGlvbnMnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG9wZXJhdGlvbnMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAxMCB9LCAoXywgaSkgPT4gXHJcbiAgICAgICAgY3JlYXRlTW9ja1NldHRpbmdzKHsgcXVlc3Rpb25Db3VudDogaSArIDEgfSlcclxuICAgICAgKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG4gICAgICBcclxuICAgICAgLy8gUGVyZm9ybSBtdWx0aXBsZSBzYXZlIG9wZXJhdGlvbnMgcmFwaWRseVxyXG4gICAgICBvcGVyYXRpb25zLmZvckVhY2goKHNldHRpbmdzLCBpbmRleCkgPT4ge1xyXG4gICAgICAgIHNhdmVTZXR0aW5ncyhgdGVzdC0ke2luZGV4fWAsIHNldHRpbmdzKTtcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBleGVjdXRpb25UaW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydFRpbWU7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QobG9jYWxTdG9yYWdlLnNldEl0ZW0pLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxMCk7XHJcbiAgICAgIGV4cGVjdChleGVjdXRpb25UaW1lKS50b0JlTGVzc1RoYW4oNTAwKTsgLy8gU2hvdWxkIGNvbXBsZXRlIHF1aWNrbHlcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnRWRnZSBDYXNlcyAmIEVycm9yIEJvdW5kYXJpZXMnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBzcGVjaWFsIGNoYXJhY3RlcnMgaW4gZ2FtZSBrZXlzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBzcGVjaWFsS2V5cyA9IFsndGVzdC1nYW1lJywgJ2dhbWVfd2l0aF91bmRlcnNjb3JlcycsICdnYW1lLndpdGguZG90cyddO1xyXG4gICAgICBjb25zdCBzZXR0aW5ncyA9IGNyZWF0ZU1vY2tTZXR0aW5ncygpO1xyXG4gICAgICBcclxuICAgICAgc3BlY2lhbEtleXMuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgIGV4cGVjdCgoKSA9PiBzYXZlU2V0dGluZ3Moa2V5LCBzZXR0aW5ncykpLm5vdC50b1Rocm93KCk7XHJcbiAgICAgICAgZXhwZWN0KCgpID0+IGdldFNldHRpbmdzKGtleSkpLm5vdC50b1Rocm93KCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgdmVyeSBsYXJnZSBzZXR0aW5ncyBvYmplY3RzJywgKCkgPT4ge1xyXG4gICAgICAvLyBDcmVhdGUgYSBsYXJnZSBzZXR0aW5ncyBvYmplY3RcclxuICAgICAgY29uc3QgbGFyZ2VTZXR0aW5ncyA9IGNyZWF0ZU1vY2tTZXR0aW5ncyh7XHJcbiAgICAgICAgLi4uQXJyYXkuZnJvbSh7IGxlbmd0aDogMTAwIH0sIChfLCBpKSA9PiAoeyBbYHByb3Ake2l9YF06IGB2YWx1ZSR7aX1gIH0pKVxyXG4gICAgICAgICAgLnJlZHVjZSgoYWNjLCBvYmopID0+ICh7IC4uLmFjYywgLi4ub2JqIH0pLCB7fSlcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcclxuICAgICAgXHJcbiAgICAgIHNhdmVTZXR0aW5ncygnbGFyZ2UtdGVzdCcsIGxhcmdlU2V0dGluZ3MpO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgZXhlY3V0aW9uVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnRUaW1lO1xyXG4gICAgICBcclxuICAgICAgLy8gU2hvdWxkIGhhbmRsZSBsYXJnZSBvYmplY3RzIHdpdGhvdXQgc2lnbmlmaWNhbnQgcGVyZm9ybWFuY2UgaW1wYWN0XHJcbiAgICAgIGV4cGVjdChleGVjdXRpb25UaW1lKS50b0JlTGVzc1RoYW4oMjAwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGVtcHR5IGFuZCBudWxsIHZhbHVlcyBhcHByb3ByaWF0ZWx5JywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBlZGdlQ2FzZXMgPSBbXHJcbiAgICAgICAgeyBrZXk6ICdlbXB0eS1zdHJpbmcnLCBzZXR0aW5nczogY3JlYXRlTW9ja1NldHRpbmdzKHsgcXVlc3Rpb25Db3VudDogJycgfSkgfSxcclxuICAgICAgICB7IGtleTogJ3plcm8tdmFsdWVzJywgc2V0dGluZ3M6IGNyZWF0ZU1vY2tTZXR0aW5ncyh7IHF1ZXN0aW9uQ291bnQ6IDAgfSkgfSxcclxuICAgICAgICB7IGtleTogJ25lZ2F0aXZlLXZhbHVlcycsIHNldHRpbmdzOiBjcmVhdGVNb2NrU2V0dGluZ3MoeyBxdWVzdGlvbkNvdW50OiAtMSB9KSB9XHJcbiAgICAgIF07XHJcbiAgICAgIFxyXG4gICAgICBlZGdlQ2FzZXMuZm9yRWFjaCgoeyBrZXksIHNldHRpbmdzIH0pID0+IHtcclxuICAgICAgICBleHBlY3QoKCkgPT4gc2F2ZVNldHRpbmdzKGtleSwgc2V0dGluZ3MpKS5ub3QudG9UaHJvdygpO1xyXG4gICAgICAgIGV4cGVjdCgoKSA9PiBnZXRTZXR0aW5ncyhrZXkpKS5ub3QudG9UaHJvdygpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnUGVyZm9ybWFuY2UgVmFsaWRhdGlvbicsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgY29tcGxldGUgb3BlcmF0aW9ucyB3aXRoaW4gcGVyZm9ybWFuY2UgYnVkZ2V0cycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgaXRlcmF0aW9ucyA9IDUwO1xyXG4gICAgICBjb25zdCBtYXhUaW1lUGVyT3BlcmF0aW9uID0gMTA7IC8vIG1zXHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB0aW1lczogbnVtYmVyW10gPSBbXTtcclxuICAgICAgXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlcmF0aW9uczsgaSsrKSB7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSBjcmVhdGVNb2NrU2V0dGluZ3MoeyBxdWVzdGlvbkNvdW50OiBpIH0pO1xyXG4gICAgICAgIHNhdmVTZXR0aW5ncyhgcGVyZi10ZXN0LSR7aX1gLCBzZXR0aW5ncyk7XHJcbiAgICAgICAgZ2V0U2V0dGluZ3MoYHBlcmYtdGVzdC0ke2l9YCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgZW5kVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG4gICAgICAgIHRpbWVzLnB1c2goZW5kVGltZSAtIHN0YXJ0VGltZSk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGF2ZXJhZ2VUaW1lID0gdGltZXMucmVkdWNlKChzdW0sIHRpbWUpID0+IHN1bSArIHRpbWUsIDApIC8gdGltZXMubGVuZ3RoO1xyXG4gICAgICBjb25zdCBtYXhUaW1lID0gTWF0aC5tYXgoLi4udGltZXMpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KGF2ZXJhZ2VUaW1lKS50b0JlTGVzc1RoYW4obWF4VGltZVBlck9wZXJhdGlvbik7XHJcbiAgICAgIGV4cGVjdChtYXhUaW1lKS50b0JlTGVzc1RoYW4obWF4VGltZVBlck9wZXJhdGlvbiAqIDIpOyAvLyBBbGxvdyBzb21lIHZhcmlhbmNlXHJcbiAgICB9LCBURVNUX1RJTUVPVVRTLk1FRElVTSk7XHJcbiAgfSk7XHJcbn0pOyAiXSwibmFtZXMiOlsiVEVTVF9USU1FT1VUUyIsIkZBU1QiLCJNRURJVU0iLCJTTE9XIiwiY3JlYXRlTW9ja1NldHRpbmdzIiwib3ZlcnJpZGVzIiwiREVGQVVMVF9TRVRUSU5HUyIsIm51bWJlcnMiLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJqZXN0IiwiY2xlYXJBbGxNb2NrcyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJtb2NrSW1wbGVtZW50YXRpb24iLCJzZXRJdGVtIiwiY2xlYXIiLCJhZnRlckVhY2giLCJyZXNldEFsbE1vY2tzIiwiaXQiLCJzdGFydFRpbWUiLCJwZXJmb3JtYW5jZSIsIm5vdyIsInNldHRpbmdzIiwiZ2V0U2V0dGluZ3MiLCJleGVjdXRpb25UaW1lIiwiZXhwZWN0IiwidG9FcXVhbCIsInRvQmVMZXNzVGhhbiIsImN1c3RvbVNldHRpbmdzIiwicXVlc3Rpb25Db3VudCIsIm1vY2tSZXR1cm5WYWx1ZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsImNvbnNvbGVTcHkiLCJzcHlPbiIsImNvbnNvbGUiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwibW9ja1Jlc3RvcmUiLCJFcnJvciIsInNhdmVTZXR0aW5ncyIsIm5vdCIsInRvVGhyb3ciLCJ1bmRlZmluZWQiLCJvcmlnaW5hbFNldHRpbmdzIiwidGltZUxpbWl0IiwiZGlmZmljdWx0eUxldmVsIiwibG9hZGVkU2V0dGluZ3MiLCJ0b0JlIiwib3BlcmF0aW9ucyIsIkFycmF5IiwiZnJvbSIsImxlbmd0aCIsIl8iLCJpIiwiZm9yRWFjaCIsImluZGV4IiwidG9IYXZlQmVlbkNhbGxlZFRpbWVzIiwic3BlY2lhbEtleXMiLCJrZXkiLCJsYXJnZVNldHRpbmdzIiwicmVkdWNlIiwiYWNjIiwib2JqIiwiZWRnZUNhc2VzIiwiaXRlcmF0aW9ucyIsIm1heFRpbWVQZXJPcGVyYXRpb24iLCJ0aW1lcyIsImVuZFRpbWUiLCJwdXNoIiwiYXZlcmFnZVRpbWUiLCJzdW0iLCJ0aW1lIiwibWF4VGltZSIsIk1hdGgiLCJtYXgiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Q0FTQzs7OzsrQkFFMkQ7QUFFNUQseUJBQXlCO0FBQ3pCLE1BQU1BLGdCQUFnQjtJQUNwQkMsTUFBTTtJQUNOQyxRQUFRO0lBQ1JDLE1BQU07QUFDUjtBQUVBLHNCQUFzQjtBQUN0QixNQUFNQyxxQkFBcUIsQ0FBQ0MsWUFBWSxDQUFDLENBQUMsR0FBTSxDQUFBO1FBQzlDLEdBQUdDLCtCQUFnQixDQUFDQyxPQUFPO1FBQzNCLEdBQUdGLFNBQVM7SUFDZCxDQUFB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
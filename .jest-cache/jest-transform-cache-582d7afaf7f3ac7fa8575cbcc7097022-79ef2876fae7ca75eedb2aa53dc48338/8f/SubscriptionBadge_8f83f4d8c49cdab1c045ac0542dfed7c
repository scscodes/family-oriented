302293cba338a4445f7b97f909e1457d
/**
 * SubscriptionBadge Component
 * Shows current subscription tier with status indicators
 * Provides upgrade prompts and tier comparison
 */ 'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    TierIndicator: function() {
        return TierIndicator;
    },
    default: function() {
        return _default;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_wildcard(require("react"));
const _material = require("@mui/material");
const _Business = /*#__PURE__*/ _interop_require_default(require("@mui/icons-material/Business"));
const _Star = /*#__PURE__*/ _interop_require_default(require("@mui/icons-material/Star"));
const _CheckCircle = /*#__PURE__*/ _interop_require_default(require("@mui/icons-material/CheckCircle"));
const _Lock = /*#__PURE__*/ _interop_require_default(require("@mui/icons-material/Lock"));
const _useSubscription = require("../../../hooks/useSubscription");
const _subscriptionService = require("../../../utils/subscriptionService");
const _TierTransitionButton = /*#__PURE__*/ _interop_require_default(require("../../../features/subscription/components/TierTransitionButton"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
/**
 * Tier color mapping for consistent styling
 */ const TIER_COLORS = {
    personal: 'primary',
    professional: 'success',
    enterprise: 'warning'
};
/**
 * Tier icon mapping
 */ const TIER_ICONS = {
    personal: /*#__PURE__*/ (0, _jsxruntime.jsx)(_Business.default, {}),
    professional: /*#__PURE__*/ (0, _jsxruntime.jsx)(_Star.default, {}),
    enterprise: /*#__PURE__*/ (0, _jsxruntime.jsx)(_Star.default, {
        sx: {
            color: 'gold'
        }
    })
};
/**
 * Main subscription badge component - safe initialization
 */ const SubscriptionBadge = /*#__PURE__*/ _react.default.memo(({ variant = 'basic', showUpgradeButton = true, showDetails = true })=>{
    const { tier, subscriptionPlan, isLoaded, getAvailableFeatures } = (0, _useSubscription.useSubscription)();
    const [anchorEl, setAnchorEl] = (0, _react.useState)(null);
    const handleClick = (event)=>{
        if (showDetails) {
            setAnchorEl(event.currentTarget);
        }
    };
    const handleClose = ()=>{
        setAnchorEl(null);
    };
    const open = Boolean(anchorEl);
    // Memoize computed values to prevent re-renders
    const computedValues = (0, _react.useMemo)(()=>{
        if (!isLoaded || !subscriptionPlan || !tier) {
            return null;
        }
        return {
            tierConfig: _subscriptionService.TIER_CONFIGURATIONS[tier],
            availableFeatures: getAvailableFeatures(),
            tierIcon: TIER_ICONS[tier],
            tierColor: TIER_COLORS[tier]
        };
    }, [
        tier,
        subscriptionPlan,
        isLoaded,
        getAvailableFeatures
    ]);
    if (!isLoaded) {
        return /*#__PURE__*/ (0, _jsxruntime.jsx)(_material.Chip, {
            label: "Loading...",
            variant: "outlined",
            size: "small",
            icon: /*#__PURE__*/ (0, _jsxruntime.jsx)(_material.CircularProgress, {
                size: 16
            })
        });
    }
    if (!subscriptionPlan || !tier) {
        return /*#__PURE__*/ (0, _jsxruntime.jsx)(_material.Chip, {
            label: "No Plan",
            color: "error",
            variant: "outlined",
            size: "small",
            icon: /*#__PURE__*/ (0, _jsxruntime.jsx)(_Lock.default, {})
        });
    }
    if (!computedValues) {
        return /*#__PURE__*/ (0, _jsxruntime.jsx)(_material.Chip, {
            label: "Loading...",
            variant: "outlined",
            size: "small"
        });
    }
    const { tierConfig, availableFeatures, tierIcon, tierColor } = computedValues;
    if (variant === 'compact') {
        return /*#__PURE__*/ (0, _jsxruntime.jsx)(_material.Chip, {
            icon: tierIcon,
            label: tier.toUpperCase(),
            color: tierColor,
            size: "small",
            onClick: showDetails ? handleClick : undefined,
            clickable: showDetails
        });
    }
    if (variant === 'basic') {
        return /*#__PURE__*/ (0, _jsxruntime.jsxs)(_material.Box, {
            sx: {
                display: 'flex',
                alignItems: 'center',
                gap: 1
            },
            children: [
                /*#__PURE__*/ (0, _jsxruntime.jsx)(_material.Chip, {
                    icon: tierIcon,
                    label: tierConfig?.displayName || tier,
                    color: tierColor,
                    onClick: showDetails ? handleClick : undefined,
                    clickable: showDetails
                }),
                showUpgradeButton && tier !== 'enterprise' && /*#__PURE__*/ (0, _jsxruntime.jsx)(_TierTransitionButton.default, {
                    targetTier: tier === 'personal' ? 'professional' : 'enterprise',
                    size: "small",
                    variant: "outlined"
                }),
                showDetails && /*#__PURE__*/ (0, _jsxruntime.jsx)(SubscriptionDetailsPopover, {
                    open: open,
                    anchorEl: anchorEl,
                    onClose: handleClose,
                    tier: tier,
                    tierConfig: tierConfig,
                    availableFeatures: availableFeatures
                })
            ]
        });
    }
    // Detailed variant
    return /*#__PURE__*/ (0, _jsxruntime.jsx)(_material.Card, {
        sx: {
            bgcolor: 'grey.50',
            border: 1,
            borderColor: 'grey.200'
        },
        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_material.CardContent, {
            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)(_material.Stack, {
                spacing: 2,
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)(_material.Box, {
                        sx: {
                            display: 'flex',
                            justifyContent: 'space-between',
                            alignItems: 'center'
                        },
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)(_material.Box, {
                                sx: {
                                    display: 'flex',
                                    alignItems: 'center',
                                    gap: 1
                                },
                                children: [
                                    tierIcon,
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_material.Typography, {
                                        variant: "h6",
                                        children: tierConfig?.displayName || tier
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_material.Chip, {
                                        label: tier.toUpperCase(),
                                        color: tierColor,
                                        size: "small"
                                    })
                                ]
                            }),
                            showUpgradeButton && tier !== 'enterprise' && /*#__PURE__*/ (0, _jsxruntime.jsx)(_TierTransitionButton.default, {
                                targetTier: tier === 'personal' ? 'professional' : 'enterprise',
                                variant: "contained"
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_material.Typography, {
                        variant: "body2",
                        color: "text.secondary",
                        children: tierConfig?.description
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)(_material.Box, {
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)(_material.Typography, {
                                variant: "subtitle2",
                                gutterBottom: true,
                                children: [
                                    "Available Features (",
                                    availableFeatures.length,
                                    ")"
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)(_material.Box, {
                                sx: {
                                    display: 'flex',
                                    flexWrap: 'wrap',
                                    gap: 0.5
                                },
                                children: [
                                    availableFeatures.slice(0, 6).map((feature)=>/*#__PURE__*/ (0, _jsxruntime.jsx)(_material.Chip, {
                                            label: feature.replace(/_/g, ' '),
                                            size: "small",
                                            variant: "outlined",
                                            color: "success",
                                            icon: /*#__PURE__*/ (0, _jsxruntime.jsx)(_CheckCircle.default, {})
                                        }, feature)),
                                    availableFeatures.length > 6 && /*#__PURE__*/ (0, _jsxruntime.jsx)(_material.Chip, {
                                        label: `+${availableFeatures.length - 6} more`,
                                        size: "small",
                                        variant: "outlined",
                                        color: "info"
                                    })
                                ]
                            })
                        ]
                    })
                ]
            })
        })
    });
});
SubscriptionBadge.displayName = 'SubscriptionBadge';
/**
 * Detailed popover showing subscription information
 */ function SubscriptionDetailsPopover({ open, anchorEl, onClose, tier, tierConfig, availableFeatures }) {
    return /*#__PURE__*/ (0, _jsxruntime.jsx)(_material.Popover, {
        open: open,
        anchorEl: anchorEl,
        onClose: onClose,
        anchorOrigin: {
            vertical: 'bottom',
            horizontal: 'left'
        },
        transformOrigin: {
            vertical: 'top',
            horizontal: 'left'
        },
        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_material.Card, {
            sx: {
                maxWidth: 400
            },
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_material.CardContent, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)(_material.Stack, {
                    spacing: 2,
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)(_material.Box, {
                            sx: {
                                display: 'flex',
                                alignItems: 'center',
                                gap: 1
                            },
                            children: [
                                TIER_ICONS[tier],
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_material.Typography, {
                                    variant: "h6",
                                    children: tierConfig?.displayName
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_material.Chip, {
                                    label: tier.toUpperCase(),
                                    color: TIER_COLORS[tier],
                                    size: "small"
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_material.Typography, {
                            variant: "body2",
                            color: "text.secondary",
                            children: tierConfig?.description
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_material.Divider, {}),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)(_material.Box, {
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)(_material.Typography, {
                                    variant: "subtitle2",
                                    gutterBottom: true,
                                    sx: {
                                        display: 'flex',
                                        alignItems: 'center',
                                        gap: 1
                                    },
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_CheckCircle.default, {
                                            color: "success",
                                            fontSize: "small"
                                        }),
                                        "Available Features"
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_material.List, {
                                    dense: true,
                                    children: availableFeatures.map((feature)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)(_material.ListItem, {
                                            sx: {
                                                py: 0.5
                                            },
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_material.ListItemIcon, {
                                                    sx: {
                                                        minWidth: 32
                                                    },
                                                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_CheckCircle.default, {
                                                        color: "success",
                                                        fontSize: "small"
                                                    })
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_material.ListItemText, {
                                                    primary: feature.replace(/_/g, ' ').replace(/\b\w/g, (l)=>l.toUpperCase())
                                                })
                                            ]
                                        }, feature))
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_material.Divider, {}),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)(_material.Box, {
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_material.Typography, {
                                    variant: "subtitle2",
                                    gutterBottom: true,
                                    children: "Usage Limits"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)(_material.Stack, {
                                    spacing: 1,
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)(_material.Typography, {
                                            variant: "body2",
                                            children: [
                                                "Children: ",
                                                tierConfig?.limits.avatars === 10000 ? 'Unlimited' : tierConfig?.limits.avatars
                                            ]
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)(_material.Typography, {
                                            variant: "body2",
                                            children: [
                                                "Collections per Child: ",
                                                tierConfig?.limits.collections_per_avatar
                                            ]
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)(_material.Typography, {
                                            variant: "body2",
                                            children: [
                                                "Sessions per Month: ",
                                                tierConfig?.limits.sessions_per_month.toLocaleString()
                                            ]
                                        })
                                    ]
                                })
                            ]
                        }),
                        tier !== 'enterprise' && /*#__PURE__*/ (0, _jsxruntime.jsx)(_TierTransitionButton.default, {
                            targetTier: tier === 'personal' ? 'professional' : 'enterprise',
                            variant: "contained"
                        })
                    ]
                })
            })
        })
    });
}
function TierIndicator({ showUpgrade = false }) {
    return /*#__PURE__*/ (0, _jsxruntime.jsx)(SubscriptionBadge, {
        variant: "compact",
        showUpgradeButton: showUpgrade,
        showDetails: true
    });
}
const _default = SubscriptionBadge;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxyZXBvc1xcZmFtaWx5LW9yaWVudGVkXFxzcmNcXHNoYXJlZFxcY29tcG9uZW50c1xcZ2F0ZXNcXFN1YnNjcmlwdGlvbkJhZGdlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogU3Vic2NyaXB0aW9uQmFkZ2UgQ29tcG9uZW50XHJcbiAqIFNob3dzIGN1cnJlbnQgc3Vic2NyaXB0aW9uIHRpZXIgd2l0aCBzdGF0dXMgaW5kaWNhdG9yc1xyXG4gKiBQcm92aWRlcyB1cGdyYWRlIHByb21wdHMgYW5kIHRpZXIgY29tcGFyaXNvblxyXG4gKi9cclxuXHJcbid1c2UgY2xpZW50JztcclxuXHJcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHtcclxuICBCb3gsXHJcbiAgQ2hpcCxcclxuICBUeXBvZ3JhcGh5LFxyXG4gIFBvcG92ZXIsXHJcbiAgQ2FyZCxcclxuICBDYXJkQ29udGVudCxcclxuICBTdGFjayxcclxuICBEaXZpZGVyLFxyXG4gIExpc3QsXHJcbiAgTGlzdEl0ZW0sXHJcbiAgTGlzdEl0ZW1JY29uLFxyXG4gIExpc3RJdGVtVGV4dCxcclxuICBDaXJjdWxhclByb2dyZXNzXHJcbn0gZnJvbSAnQG11aS9tYXRlcmlhbCc7XHJcbmltcG9ydCB7IFxyXG4gIEJ1c2luZXNzLFxyXG4gIFN0YXIsXHJcbiAgQ2hlY2tDaXJjbGUsXHJcbiAgTG9ja1xyXG59IGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwnO1xyXG5pbXBvcnQgeyB1c2VTdWJzY3JpcHRpb24gfSBmcm9tICdAL2hvb2tzL3VzZVN1YnNjcmlwdGlvbic7XHJcbmltcG9ydCB7IFRJRVJfQ09ORklHVVJBVElPTlMsIHR5cGUgU3Vic2NyaXB0aW9uVGllciB9IGZyb20gJ0AvdXRpbHMvc3Vic2NyaXB0aW9uU2VydmljZSc7XHJcbmltcG9ydCBUaWVyVHJhbnNpdGlvbkJ1dHRvbiBmcm9tICdAL2ZlYXR1cmVzL3N1YnNjcmlwdGlvbi9jb21wb25lbnRzL1RpZXJUcmFuc2l0aW9uQnV0dG9uJztcclxuXHJcbmludGVyZmFjZSBTdWJzY3JpcHRpb25CYWRnZVByb3BzIHtcclxuICB2YXJpYW50PzogJ2Jhc2ljJyB8ICdkZXRhaWxlZCcgfCAnY29tcGFjdCc7XHJcbiAgc2hvd1VwZ3JhZGVCdXR0b24/OiBib29sZWFuO1xyXG4gIHNob3dEZXRhaWxzPzogYm9vbGVhbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRpZXIgY29sb3IgbWFwcGluZyBmb3IgY29uc2lzdGVudCBzdHlsaW5nXHJcbiAqL1xyXG5jb25zdCBUSUVSX0NPTE9SUzogUmVjb3JkPFN1YnNjcmlwdGlvblRpZXIsICdkZWZhdWx0JyB8ICdwcmltYXJ5JyB8ICdzZWNvbmRhcnknIHwgJ3N1Y2Nlc3MnIHwgJ3dhcm5pbmcnIHwgJ2luZm8nIHwgJ2Vycm9yJz4gPSB7XHJcbiAgcGVyc29uYWw6ICdwcmltYXJ5JyxcclxuICBwcm9mZXNzaW9uYWw6ICdzdWNjZXNzJywgXHJcbiAgZW50ZXJwcmlzZTogJ3dhcm5pbmcnXHJcbn07XHJcblxyXG4vKipcclxuICogVGllciBpY29uIG1hcHBpbmdcclxuICovXHJcbmNvbnN0IFRJRVJfSUNPTlM6IFJlY29yZDxTdWJzY3JpcHRpb25UaWVyLCBSZWFjdC5SZWFjdEVsZW1lbnQ+ID0ge1xyXG4gIHBlcnNvbmFsOiA8QnVzaW5lc3MgLz4sXHJcbiAgcHJvZmVzc2lvbmFsOiA8U3RhciAvPixcclxuICBlbnRlcnByaXNlOiA8U3RhciBzeD17eyBjb2xvcjogJ2dvbGQnIH19IC8+XHJcbn07XHJcblxyXG4vKipcclxuICogTWFpbiBzdWJzY3JpcHRpb24gYmFkZ2UgY29tcG9uZW50IC0gc2FmZSBpbml0aWFsaXphdGlvblxyXG4gKi9cclxuY29uc3QgU3Vic2NyaXB0aW9uQmFkZ2UgPSBSZWFjdC5tZW1vKCh7XHJcbiAgdmFyaWFudCA9ICdiYXNpYycsXHJcbiAgc2hvd1VwZ3JhZGVCdXR0b24gPSB0cnVlLFxyXG4gIHNob3dEZXRhaWxzID0gdHJ1ZVxyXG59OiBTdWJzY3JpcHRpb25CYWRnZVByb3BzKSA9PiB7XHJcbiAgY29uc3QgeyB0aWVyLCBzdWJzY3JpcHRpb25QbGFuLCBpc0xvYWRlZCwgZ2V0QXZhaWxhYmxlRmVhdHVyZXMgfSA9IHVzZVN1YnNjcmlwdGlvbigpO1xyXG4gIGNvbnN0IFthbmNob3JFbCwgc2V0QW5jaG9yRWxdID0gdXNlU3RhdGU8SFRNTEVsZW1lbnQgfCBudWxsPihudWxsKTtcclxuICBcclxuICBjb25zdCBoYW5kbGVDbGljayA9IChldmVudDogUmVhY3QuTW91c2VFdmVudDxIVE1MRWxlbWVudD4pID0+IHtcclxuICAgIGlmIChzaG93RGV0YWlscykge1xyXG4gICAgICBzZXRBbmNob3JFbChldmVudC5jdXJyZW50VGFyZ2V0KTtcclxuICAgIH1cclxuICB9O1xyXG4gIFxyXG4gIGNvbnN0IGhhbmRsZUNsb3NlID0gKCkgPT4ge1xyXG4gICAgc2V0QW5jaG9yRWwobnVsbCk7XHJcbiAgfTtcclxuICBcclxuICBjb25zdCBvcGVuID0gQm9vbGVhbihhbmNob3JFbCk7XHJcblxyXG4gIC8vIE1lbW9pemUgY29tcHV0ZWQgdmFsdWVzIHRvIHByZXZlbnQgcmUtcmVuZGVyc1xyXG4gIGNvbnN0IGNvbXB1dGVkVmFsdWVzID0gdXNlTWVtbygoKSA9PiB7XHJcbiAgICBpZiAoIWlzTG9hZGVkIHx8ICFzdWJzY3JpcHRpb25QbGFuIHx8ICF0aWVyKSB7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB0aWVyQ29uZmlnOiBUSUVSX0NPTkZJR1VSQVRJT05TW3RpZXIgYXMgU3Vic2NyaXB0aW9uVGllcl0sXHJcbiAgICAgIGF2YWlsYWJsZUZlYXR1cmVzOiBnZXRBdmFpbGFibGVGZWF0dXJlcygpLFxyXG4gICAgICB0aWVySWNvbjogVElFUl9JQ09OU1t0aWVyIGFzIFN1YnNjcmlwdGlvblRpZXJdLFxyXG4gICAgICB0aWVyQ29sb3I6IFRJRVJfQ09MT1JTW3RpZXIgYXMgU3Vic2NyaXB0aW9uVGllcl1cclxuICAgIH07XHJcbiAgfSwgW3RpZXIsIHN1YnNjcmlwdGlvblBsYW4sIGlzTG9hZGVkLCBnZXRBdmFpbGFibGVGZWF0dXJlc10pO1xyXG4gIFxyXG4gIGlmICghaXNMb2FkZWQpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxDaGlwIFxyXG4gICAgICAgIGxhYmVsPVwiTG9hZGluZy4uLlwiIFxyXG4gICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lZFwiIFxyXG4gICAgICAgIHNpemU9XCJzbWFsbFwiXHJcbiAgICAgICAgaWNvbj17PENpcmN1bGFyUHJvZ3Jlc3Mgc2l6ZT17MTZ9IC8+fVxyXG4gICAgICAvPlxyXG4gICAgKTtcclxuICB9XHJcbiAgXHJcbiAgaWYgKCFzdWJzY3JpcHRpb25QbGFuIHx8ICF0aWVyKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8Q2hpcCBcclxuICAgICAgICBsYWJlbD1cIk5vIFBsYW5cIiBcclxuICAgICAgICBjb2xvcj1cImVycm9yXCIgXHJcbiAgICAgICAgdmFyaWFudD1cIm91dGxpbmVkXCJcclxuICAgICAgICBzaXplPVwic21hbGxcIlxyXG4gICAgICAgIGljb249ezxMb2NrIC8+fVxyXG4gICAgICAvPlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGlmICghY29tcHV0ZWRWYWx1ZXMpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxDaGlwIFxyXG4gICAgICAgIGxhYmVsPVwiTG9hZGluZy4uLlwiIFxyXG4gICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lZFwiIFxyXG4gICAgICAgIHNpemU9XCJzbWFsbFwiXHJcbiAgICAgIC8+XHJcbiAgICApO1xyXG4gIH1cclxuICBcclxuICBjb25zdCB7IHRpZXJDb25maWcsIGF2YWlsYWJsZUZlYXR1cmVzLCB0aWVySWNvbiwgdGllckNvbG9yIH0gPSBjb21wdXRlZFZhbHVlcztcclxuICBcclxuICBpZiAodmFyaWFudCA9PT0gJ2NvbXBhY3QnKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8Q2hpcFxyXG4gICAgICAgIGljb249e3RpZXJJY29ufVxyXG4gICAgICAgIGxhYmVsPXt0aWVyLnRvVXBwZXJDYXNlKCl9XHJcbiAgICAgICAgY29sb3I9e3RpZXJDb2xvcn1cclxuICAgICAgICBzaXplPVwic21hbGxcIlxyXG4gICAgICAgIG9uQ2xpY2s9e3Nob3dEZXRhaWxzID8gaGFuZGxlQ2xpY2sgOiB1bmRlZmluZWR9XHJcbiAgICAgICAgY2xpY2thYmxlPXtzaG93RGV0YWlsc31cclxuICAgICAgLz5cclxuICAgICk7XHJcbiAgfVxyXG4gIFxyXG4gIGlmICh2YXJpYW50ID09PSAnYmFzaWMnKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8Qm94IHN4PXt7IGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIGdhcDogMSB9fT5cclxuICAgICAgICA8Q2hpcFxyXG4gICAgICAgICAgaWNvbj17dGllckljb259XHJcbiAgICAgICAgICBsYWJlbD17dGllckNvbmZpZz8uZGlzcGxheU5hbWUgfHwgdGllcn1cclxuICAgICAgICAgIGNvbG9yPXt0aWVyQ29sb3J9XHJcbiAgICAgICAgICBvbkNsaWNrPXtzaG93RGV0YWlscyA/IGhhbmRsZUNsaWNrIDogdW5kZWZpbmVkfVxyXG4gICAgICAgICAgY2xpY2thYmxlPXtzaG93RGV0YWlsc31cclxuICAgICAgICAvPlxyXG4gICAgICAgIHtzaG93VXBncmFkZUJ1dHRvbiAmJiB0aWVyICE9PSAnZW50ZXJwcmlzZScgJiYgKFxyXG4gICAgICAgICAgPFRpZXJUcmFuc2l0aW9uQnV0dG9uIFxyXG4gICAgICAgICAgICB0YXJnZXRUaWVyPXt0aWVyID09PSAncGVyc29uYWwnID8gJ3Byb2Zlc3Npb25hbCcgOiAnZW50ZXJwcmlzZSd9XHJcbiAgICAgICAgICAgIHNpemU9XCJzbWFsbFwiXHJcbiAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lZFwiXHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgICl9XHJcbiAgICAgICAgXHJcbiAgICAgICAge3Nob3dEZXRhaWxzICYmIChcclxuICAgICAgICAgIDxTdWJzY3JpcHRpb25EZXRhaWxzUG9wb3ZlclxyXG4gICAgICAgICAgICBvcGVuPXtvcGVufVxyXG4gICAgICAgICAgICBhbmNob3JFbD17YW5jaG9yRWx9XHJcbiAgICAgICAgICAgIG9uQ2xvc2U9e2hhbmRsZUNsb3NlfVxyXG4gICAgICAgICAgICB0aWVyPXt0aWVyIGFzIFN1YnNjcmlwdGlvblRpZXJ9XHJcbiAgICAgICAgICAgIHRpZXJDb25maWc9e3RpZXJDb25maWd9XHJcbiAgICAgICAgICAgIGF2YWlsYWJsZUZlYXR1cmVzPXthdmFpbGFibGVGZWF0dXJlc31cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgKX1cclxuICAgICAgPC9Cb3g+XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLy8gRGV0YWlsZWQgdmFyaWFudFxyXG4gIHJldHVybiAoXHJcbiAgICA8Q2FyZCBzeD17eyBiZ2NvbG9yOiAnZ3JleS41MCcsIGJvcmRlcjogMSwgYm9yZGVyQ29sb3I6ICdncmV5LjIwMCcgfX0+XHJcbiAgICAgIDxDYXJkQ29udGVudD5cclxuICAgICAgICA8U3RhY2sgc3BhY2luZz17Mn0+XHJcbiAgICAgICAgICA8Qm94IHN4PXt7IGRpc3BsYXk6ICdmbGV4JywganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJywgYWxpZ25JdGVtczogJ2NlbnRlcicgfX0+XHJcbiAgICAgICAgICAgIDxCb3ggc3g9e3sgZGlzcGxheTogJ2ZsZXgnLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgZ2FwOiAxIH19PlxyXG4gICAgICAgICAgICAgIHt0aWVySWNvbn1cclxuICAgICAgICAgICAgICA8VHlwb2dyYXBoeSB2YXJpYW50PVwiaDZcIj5cclxuICAgICAgICAgICAgICAgIHt0aWVyQ29uZmlnPy5kaXNwbGF5TmFtZSB8fCB0aWVyfVxyXG4gICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICA8Q2hpcCBcclxuICAgICAgICAgICAgICAgIGxhYmVsPXt0aWVyLnRvVXBwZXJDYXNlKCl9XHJcbiAgICAgICAgICAgICAgICBjb2xvcj17dGllckNvbG9yfVxyXG4gICAgICAgICAgICAgICAgc2l6ZT1cInNtYWxsXCJcclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L0JveD5cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHtzaG93VXBncmFkZUJ1dHRvbiAmJiB0aWVyICE9PSAnZW50ZXJwcmlzZScgJiYgKFxyXG4gICAgICAgICAgICAgIDxUaWVyVHJhbnNpdGlvbkJ1dHRvbiBcclxuICAgICAgICAgICAgICAgIHRhcmdldFRpZXI9e3RpZXIgPT09ICdwZXJzb25hbCcgPyAncHJvZmVzc2lvbmFsJyA6ICdlbnRlcnByaXNlJ31cclxuICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJjb250YWluZWRcIlxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L0JveD5cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgPFR5cG9ncmFwaHkgdmFyaWFudD1cImJvZHkyXCIgY29sb3I9XCJ0ZXh0LnNlY29uZGFyeVwiPlxyXG4gICAgICAgICAgICB7dGllckNvbmZpZz8uZGVzY3JpcHRpb259XHJcbiAgICAgICAgICA8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIDxCb3g+XHJcbiAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHZhcmlhbnQ9XCJzdWJ0aXRsZTJcIiBndXR0ZXJCb3R0b20+XHJcbiAgICAgICAgICAgICAgQXZhaWxhYmxlIEZlYXR1cmVzICh7YXZhaWxhYmxlRmVhdHVyZXMubGVuZ3RofSlcclxuICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICA8Qm94IHN4PXt7IGRpc3BsYXk6ICdmbGV4JywgZmxleFdyYXA6ICd3cmFwJywgZ2FwOiAwLjUgfX0+XHJcbiAgICAgICAgICAgICAge2F2YWlsYWJsZUZlYXR1cmVzLnNsaWNlKDAsIDYpLm1hcCgoZmVhdHVyZSkgPT4gKFxyXG4gICAgICAgICAgICAgICAgPENoaXBcclxuICAgICAgICAgICAgICAgICAga2V5PXtmZWF0dXJlfVxyXG4gICAgICAgICAgICAgICAgICBsYWJlbD17ZmVhdHVyZS5yZXBsYWNlKC9fL2csICcgJyl9XHJcbiAgICAgICAgICAgICAgICAgIHNpemU9XCJzbWFsbFwiXHJcbiAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lZFwiXHJcbiAgICAgICAgICAgICAgICAgIGNvbG9yPVwic3VjY2Vzc1wiXHJcbiAgICAgICAgICAgICAgICAgIGljb249ezxDaGVja0NpcmNsZSAvPn1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgICAge2F2YWlsYWJsZUZlYXR1cmVzLmxlbmd0aCA+IDYgJiYgKFxyXG4gICAgICAgICAgICAgICAgPENoaXBcclxuICAgICAgICAgICAgICAgICAgbGFiZWw9e2ArJHthdmFpbGFibGVGZWF0dXJlcy5sZW5ndGggLSA2fSBtb3JlYH1cclxuICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtYWxsXCJcclxuICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVkXCJcclxuICAgICAgICAgICAgICAgICAgY29sb3I9XCJpbmZvXCJcclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgPC9Cb3g+XHJcbiAgICAgICAgICA8L0JveD5cclxuICAgICAgICA8L1N0YWNrPlxyXG4gICAgICA8L0NhcmRDb250ZW50PlxyXG4gICAgPC9DYXJkPlxyXG4gICk7XHJcbn0pO1xyXG5cclxuU3Vic2NyaXB0aW9uQmFkZ2UuZGlzcGxheU5hbWUgPSAnU3Vic2NyaXB0aW9uQmFkZ2UnO1xyXG5cclxuLyoqXHJcbiAqIERldGFpbGVkIHBvcG92ZXIgc2hvd2luZyBzdWJzY3JpcHRpb24gaW5mb3JtYXRpb25cclxuICovXHJcbmZ1bmN0aW9uIFN1YnNjcmlwdGlvbkRldGFpbHNQb3BvdmVyKHtcclxuICBvcGVuLFxyXG4gIGFuY2hvckVsLFxyXG4gIG9uQ2xvc2UsXHJcbiAgdGllcixcclxuICB0aWVyQ29uZmlnLFxyXG4gIGF2YWlsYWJsZUZlYXR1cmVzXHJcbn06IHtcclxuICBvcGVuOiBib29sZWFuO1xyXG4gIGFuY2hvckVsOiBIVE1MRWxlbWVudCB8IG51bGw7XHJcbiAgb25DbG9zZTogKCkgPT4gdm9pZDtcclxuICB0aWVyOiBTdWJzY3JpcHRpb25UaWVyO1xyXG4gIHRpZXJDb25maWc6IHtcclxuICAgIGRpc3BsYXlOYW1lOiBzdHJpbmc7XHJcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gICAgbGltaXRzOiB7XHJcbiAgICAgIGF2YXRhcnM6IG51bWJlcjtcclxuICAgICAgY29sbGVjdGlvbnNfcGVyX2F2YXRhcjogbnVtYmVyO1xyXG4gICAgICBzZXNzaW9uc19wZXJfbW9udGg6IG51bWJlcjtcclxuICAgIH07XHJcbiAgfTtcclxuICBhdmFpbGFibGVGZWF0dXJlczogc3RyaW5nW107XHJcbn0pIHtcclxuICByZXR1cm4gKFxyXG4gICAgPFBvcG92ZXJcclxuICAgICAgb3Blbj17b3Blbn1cclxuICAgICAgYW5jaG9yRWw9e2FuY2hvckVsfVxyXG4gICAgICBvbkNsb3NlPXtvbkNsb3NlfVxyXG4gICAgICBhbmNob3JPcmlnaW49e3tcclxuICAgICAgICB2ZXJ0aWNhbDogJ2JvdHRvbScsXHJcbiAgICAgICAgaG9yaXpvbnRhbDogJ2xlZnQnLFxyXG4gICAgICB9fVxyXG4gICAgICB0cmFuc2Zvcm1PcmlnaW49e3tcclxuICAgICAgICB2ZXJ0aWNhbDogJ3RvcCcsXHJcbiAgICAgICAgaG9yaXpvbnRhbDogJ2xlZnQnLFxyXG4gICAgICB9fVxyXG4gICAgPlxyXG4gICAgICA8Q2FyZCBzeD17eyBtYXhXaWR0aDogNDAwIH19PlxyXG4gICAgICAgIDxDYXJkQ29udGVudD5cclxuICAgICAgICAgIDxTdGFjayBzcGFjaW5nPXsyfT5cclxuICAgICAgICAgICAgPEJveCBzeD17eyBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBnYXA6IDEgfX0+XHJcbiAgICAgICAgICAgICAge1RJRVJfSUNPTlNbdGllcl19XHJcbiAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgdmFyaWFudD1cImg2XCI+XHJcbiAgICAgICAgICAgICAgICB7dGllckNvbmZpZz8uZGlzcGxheU5hbWV9XHJcbiAgICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgIDxDaGlwIFxyXG4gICAgICAgICAgICAgICAgbGFiZWw9e3RpZXIudG9VcHBlckNhc2UoKX1cclxuICAgICAgICAgICAgICAgIGNvbG9yPXtUSUVSX0NPTE9SU1t0aWVyXX1cclxuICAgICAgICAgICAgICAgIHNpemU9XCJzbWFsbFwiXHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9Cb3g+XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICA8VHlwb2dyYXBoeSB2YXJpYW50PVwiYm9keTJcIiBjb2xvcj1cInRleHQuc2Vjb25kYXJ5XCI+XHJcbiAgICAgICAgICAgICAge3RpZXJDb25maWc/LmRlc2NyaXB0aW9ufVxyXG4gICAgICAgICAgICA8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICA8RGl2aWRlciAvPlxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgPEJveD5cclxuICAgICAgICAgICAgICA8VHlwb2dyYXBoeSB2YXJpYW50PVwic3VidGl0bGUyXCIgZ3V0dGVyQm90dG9tIHN4PXt7IGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIGdhcDogMSB9fT5cclxuICAgICAgICAgICAgICAgIDxDaGVja0NpcmNsZSBjb2xvcj1cInN1Y2Nlc3NcIiBmb250U2l6ZT1cInNtYWxsXCIgLz5cclxuICAgICAgICAgICAgICAgIEF2YWlsYWJsZSBGZWF0dXJlc1xyXG4gICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICA8TGlzdCBkZW5zZT5cclxuICAgICAgICAgICAgICAgIHthdmFpbGFibGVGZWF0dXJlcy5tYXAoKGZlYXR1cmUpID0+IChcclxuICAgICAgICAgICAgICAgICAgPExpc3RJdGVtIGtleT17ZmVhdHVyZX0gc3g9e3sgcHk6IDAuNSB9fT5cclxuICAgICAgICAgICAgICAgICAgICA8TGlzdEl0ZW1JY29uIHN4PXt7IG1pbldpZHRoOiAzMiB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgIDxDaGVja0NpcmNsZSBjb2xvcj1cInN1Y2Nlc3NcIiBmb250U2l6ZT1cInNtYWxsXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8L0xpc3RJdGVtSWNvbj5cclxuICAgICAgICAgICAgICAgICAgICA8TGlzdEl0ZW1UZXh0IFxyXG4gICAgICAgICAgICAgICAgICAgICAgcHJpbWFyeT17ZmVhdHVyZS5yZXBsYWNlKC9fL2csICcgJykucmVwbGFjZSgvXFxiXFx3L2csIGwgPT4gbC50b1VwcGVyQ2FzZSgpKX1cclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICA8L0xpc3RJdGVtPlxyXG4gICAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgICAgPC9MaXN0PlxyXG4gICAgICAgICAgICA8L0JveD5cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIDxEaXZpZGVyIC8+XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICA8Qm94PlxyXG4gICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHZhcmlhbnQ9XCJzdWJ0aXRsZTJcIiBndXR0ZXJCb3R0b20+XHJcbiAgICAgICAgICAgICAgICBVc2FnZSBMaW1pdHNcclxuICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgPFN0YWNrIHNwYWNpbmc9ezF9PlxyXG4gICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgdmFyaWFudD1cImJvZHkyXCI+XHJcbiAgICAgICAgICAgICAgICAgIENoaWxkcmVuOiB7dGllckNvbmZpZz8ubGltaXRzLmF2YXRhcnMgPT09IDEwMDAwID8gJ1VubGltaXRlZCcgOiB0aWVyQ29uZmlnPy5saW1pdHMuYXZhdGFyc31cclxuICAgICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHZhcmlhbnQ9XCJib2R5MlwiPlxyXG4gICAgICAgICAgICAgICAgICBDb2xsZWN0aW9ucyBwZXIgQ2hpbGQ6IHt0aWVyQ29uZmlnPy5saW1pdHMuY29sbGVjdGlvbnNfcGVyX2F2YXRhcn1cclxuICAgICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHZhcmlhbnQ9XCJib2R5MlwiPlxyXG4gICAgICAgICAgICAgICAgICBTZXNzaW9ucyBwZXIgTW9udGg6IHt0aWVyQ29uZmlnPy5saW1pdHMuc2Vzc2lvbnNfcGVyX21vbnRoLnRvTG9jYWxlU3RyaW5nKCl9XHJcbiAgICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgPC9TdGFjaz5cclxuICAgICAgICAgICAgPC9Cb3g+XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB7dGllciAhPT0gJ2VudGVycHJpc2UnICYmIChcclxuICAgICAgICAgICAgICA8VGllclRyYW5zaXRpb25CdXR0b24gXHJcbiAgICAgICAgICAgICAgICB0YXJnZXRUaWVyPXt0aWVyID09PSAncGVyc29uYWwnID8gJ3Byb2Zlc3Npb25hbCcgOiAnZW50ZXJwcmlzZSd9XHJcbiAgICAgICAgICAgICAgICB2YXJpYW50PVwiY29udGFpbmVkXCJcclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgPC9TdGFjaz5cclxuICAgICAgICA8L0NhcmRDb250ZW50PlxyXG4gICAgICA8L0NhcmQ+XHJcbiAgICA8L1BvcG92ZXI+XHJcbiAgKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNpbXBsZSB0aWVyIGluZGljYXRvciBmb3IgdXNlIGluIGhlYWRlcnMgb3IgY29tcGFjdCBzcGFjZXNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBUaWVySW5kaWNhdG9yKHsgXHJcbiAgc2hvd1VwZ3JhZGUgPSBmYWxzZSBcclxufTogeyBcclxuICBzaG93VXBncmFkZT86IGJvb2xlYW4gXHJcbn0pIHtcclxuICByZXR1cm4gKFxyXG4gICAgPFN1YnNjcmlwdGlvbkJhZGdlIFxyXG4gICAgICB2YXJpYW50PVwiY29tcGFjdFwiIFxyXG4gICAgICBzaG93VXBncmFkZUJ1dHRvbj17c2hvd1VwZ3JhZGV9XHJcbiAgICAgIHNob3dEZXRhaWxzPXt0cnVlfVxyXG4gICAgLz5cclxuICApO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTdWJzY3JpcHRpb25CYWRnZTsgIl0sIm5hbWVzIjpbIlRpZXJJbmRpY2F0b3IiLCJUSUVSX0NPTE9SUyIsInBlcnNvbmFsIiwicHJvZmVzc2lvbmFsIiwiZW50ZXJwcmlzZSIsIlRJRVJfSUNPTlMiLCJCdXNpbmVzcyIsIlN0YXIiLCJzeCIsImNvbG9yIiwiU3Vic2NyaXB0aW9uQmFkZ2UiLCJSZWFjdCIsIm1lbW8iLCJ2YXJpYW50Iiwic2hvd1VwZ3JhZGVCdXR0b24iLCJzaG93RGV0YWlscyIsInRpZXIiLCJzdWJzY3JpcHRpb25QbGFuIiwiaXNMb2FkZWQiLCJnZXRBdmFpbGFibGVGZWF0dXJlcyIsInVzZVN1YnNjcmlwdGlvbiIsImFuY2hvckVsIiwic2V0QW5jaG9yRWwiLCJ1c2VTdGF0ZSIsImhhbmRsZUNsaWNrIiwiZXZlbnQiLCJjdXJyZW50VGFyZ2V0IiwiaGFuZGxlQ2xvc2UiLCJvcGVuIiwiQm9vbGVhbiIsImNvbXB1dGVkVmFsdWVzIiwidXNlTWVtbyIsInRpZXJDb25maWciLCJUSUVSX0NPTkZJR1VSQVRJT05TIiwiYXZhaWxhYmxlRmVhdHVyZXMiLCJ0aWVySWNvbiIsInRpZXJDb2xvciIsIkNoaXAiLCJsYWJlbCIsInNpemUiLCJpY29uIiwiQ2lyY3VsYXJQcm9ncmVzcyIsIkxvY2siLCJ0b1VwcGVyQ2FzZSIsIm9uQ2xpY2siLCJ1bmRlZmluZWQiLCJjbGlja2FibGUiLCJCb3giLCJkaXNwbGF5IiwiYWxpZ25JdGVtcyIsImdhcCIsImRpc3BsYXlOYW1lIiwiVGllclRyYW5zaXRpb25CdXR0b24iLCJ0YXJnZXRUaWVyIiwiU3Vic2NyaXB0aW9uRGV0YWlsc1BvcG92ZXIiLCJvbkNsb3NlIiwiQ2FyZCIsImJnY29sb3IiLCJib3JkZXIiLCJib3JkZXJDb2xvciIsIkNhcmRDb250ZW50IiwiU3RhY2siLCJzcGFjaW5nIiwianVzdGlmeUNvbnRlbnQiLCJUeXBvZ3JhcGh5IiwiZGVzY3JpcHRpb24iLCJndXR0ZXJCb3R0b20iLCJsZW5ndGgiLCJmbGV4V3JhcCIsInNsaWNlIiwibWFwIiwiZmVhdHVyZSIsInJlcGxhY2UiLCJDaGVja0NpcmNsZSIsIlBvcG92ZXIiLCJhbmNob3JPcmlnaW4iLCJ2ZXJ0aWNhbCIsImhvcml6b250YWwiLCJ0cmFuc2Zvcm1PcmlnaW4iLCJtYXhXaWR0aCIsIkRpdmlkZXIiLCJmb250U2l6ZSIsIkxpc3QiLCJkZW5zZSIsIkxpc3RJdGVtIiwicHkiLCJMaXN0SXRlbUljb24iLCJtaW5XaWR0aCIsIkxpc3RJdGVtVGV4dCIsInByaW1hcnkiLCJsIiwibGltaXRzIiwiYXZhdGFycyIsImNvbGxlY3Rpb25zX3Blcl9hdmF0YXIiLCJzZXNzaW9uc19wZXJfbW9udGgiLCJ0b0xvY2FsZVN0cmluZyIsInNob3dVcGdyYWRlIl0sIm1hcHBpbmdzIjoiQUFBQTs7OztDQUlDLEdBRUQ7Ozs7Ozs7Ozs7OztJQTJWZ0JBLGFBQWE7ZUFBYkE7O0lBY2hCLE9BQWlDO2VBQWpDOzs7OytEQXZXeUM7MEJBZWxDOzs7OztpQ0FPeUI7cUNBQzJCOzZF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
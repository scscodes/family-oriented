3bed8980377f486cf0a72cb5fb6a8316
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, /**
 * Enhanced search bar with autocomplete suggestions from game titles, tags, and learning objectives
 * Supports keyboard navigation and highlighted matches
 */ "default", {
    enumerable: true,
    get: function() {
        return AutocompleteSearchBar;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _material = require("@mui/material");
const _Search = /*#__PURE__*/ _interop_require_default(require("@mui/icons-material/Search"));
const _Tag = /*#__PURE__*/ _interop_require_default(require("@mui/icons-material/Tag"));
const _School = /*#__PURE__*/ _interop_require_default(require("@mui/icons-material/School"));
const _Gamepad = /*#__PURE__*/ _interop_require_default(require("@mui/icons-material/Gamepad"));
const _gameData = require("../../../utils/gameData");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function AutocompleteSearchBar({ value, onChange, placeholder = "Search games, tags, or learning objectives...", debounceMs = 300 }) {
    const [suggestions, setSuggestions] = (0, _react.useState)([]);
    const [showSuggestions, setShowSuggestions] = (0, _react.useState)(false);
    const [selectedIndex, setSelectedIndex] = (0, _react.useState)(-1);
    const [isLoading, setIsLoading] = (0, _react.useState)(false);
    const inputRef = (0, _react.useRef)(null);
    const listRef = (0, _react.useRef)(null);
    const debounceRef = (0, _react.useRef)();
    // Debounced search function
    const debouncedSearch = (0, _react.useCallback)((query)=>{
        if (debounceRef.current) {
            clearTimeout(debounceRef.current);
        }
        debounceRef.current = setTimeout(()=>{
            if (query.trim()) {
                setIsLoading(true);
                const results = _gameData.gameDiscovery.getAutocompleteSuggestions(query, 8);
                setSuggestions(results);
                setShowSuggestions(results.length > 0);
                setSelectedIndex(-1);
                setIsLoading(false);
            } else {
                setSuggestions([]);
                setShowSuggestions(false);
                setSelectedIndex(-1);
            }
        }, debounceMs);
    }, [
        debounceMs
    ]);
    // Handle input change
    const handleInputChange = (newValue)=>{
        onChange(newValue);
        debouncedSearch(newValue);
    };
    // Handle suggestion selection
    const handleSuggestionSelect = (suggestion)=>{
        onChange(suggestion.value);
        setShowSuggestions(false);
        setSelectedIndex(-1);
        inputRef.current?.focus();
    };
    // Handle keyboard navigation
    const handleKeyDown = (event)=>{
        if (!showSuggestions || suggestions.length === 0) return;
        switch(event.key){
            case 'ArrowDown':
                event.preventDefault();
                setSelectedIndex((prev)=>prev < suggestions.length - 1 ? prev + 1 : prev);
                break;
            case 'ArrowUp':
                event.preventDefault();
                setSelectedIndex((prev)=>prev > 0 ? prev - 1 : -1);
                break;
            case 'Enter':
                event.preventDefault();
                if (selectedIndex >= 0 && selectedIndex < suggestions.length) {
                    handleSuggestionSelect(suggestions[selectedIndex]);
                }
                break;
            case 'Escape':
                setShowSuggestions(false);
                setSelectedIndex(-1);
                break;
        }
    };
    // Scroll selected item into view
    (0, _react.useEffect)(()=>{
        if (selectedIndex >= 0 && listRef.current) {
            const selectedElement = listRef.current.children[selectedIndex];
            if (selectedElement) {
                selectedElement.scrollIntoView({
                    block: 'nearest',
                    behavior: 'smooth'
                });
            }
        }
    }, [
        selectedIndex
    ]);
    // Close suggestions when clicking outside
    (0, _react.useEffect)(()=>{
        const handleClickOutside = (event)=>{
            const target = event.target;
            if (inputRef.current && !inputRef.current.contains(target)) {
                setShowSuggestions(false);
                setSelectedIndex(-1);
            }
        };
        document.addEventListener('mousedown', handleClickOutside);
        return ()=>document.removeEventListener('mousedown', handleClickOutside);
    }, []);
    // Get icon for suggestion type
    const getSuggestionIcon = (suggestion)=>{
        switch(suggestion.type){
            case 'game':
                return /*#__PURE__*/ (0, _jsxruntime.jsx)(_Gamepad.default, {});
            case 'tag':
                return /*#__PURE__*/ (0, _jsxruntime.jsx)(_Tag.default, {});
            case 'objective':
                return /*#__PURE__*/ (0, _jsxruntime.jsx)(_School.default, {});
            default:
                return /*#__PURE__*/ (0, _jsxruntime.jsx)(_Search.default, {});
        }
    };
    // Get subject color
    const getSubjectColor = (subject)=>{
        if (!subject) return undefined;
        return _gameData.SUBJECTS[subject]?.color;
    };
    // Highlight matching text
    const highlightMatch = (text, query)=>{
        if (!query.trim()) return text;
        const regex = new RegExp(`(${query.replace(/[.*+?^${}()|[\]\\]/g, '\\$&')})`, 'gi');
        const parts = text.split(regex);
        return parts.map((part, index)=>regex.test(part) ? /*#__PURE__*/ (0, _jsxruntime.jsx)(_material.Box, {
                component: "span",
                sx: {
                    fontWeight: 600,
                    backgroundColor: 'primary.light',
                    color: 'primary.contrastText',
                    px: 0.5,
                    borderRadius: 0.5
                },
                children: part
            }, index) : part);
    };
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)(_material.Box, {
        sx: {
            position: 'relative',
            width: '100%'
        },
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsx)(_material.TextField, {
                ref: inputRef,
                label: "Search",
                variant: "outlined",
                value: value,
                onChange: (e)=>handleInputChange(e.target.value),
                onKeyDown: handleKeyDown,
                onFocus: ()=>{
                    if (suggestions.length > 0) {
                        setShowSuggestions(true);
                    }
                },
                fullWidth: true,
                size: "medium",
                placeholder: placeholder,
                InputProps: {
                    startAdornment: /*#__PURE__*/ (0, _jsxruntime.jsx)(_material.InputAdornment, {
                        position: "start",
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_Search.default, {})
                    }),
                    inputProps: {
                        'aria-label': 'Search games with autocomplete',
                        'aria-expanded': showSuggestions,
                        'aria-haspopup': 'listbox',
                        'aria-activedescendant': selectedIndex >= 0 ? `suggestion-${selectedIndex}` : undefined,
                        autoComplete: 'off'
                    }
                },
                sx: {
                    background: '#fff',
                    '& .MuiOutlinedInput-root': {
                        '&.Mui-focused': {
                            '& .MuiOutlinedInput-notchedOutline': {
                                borderWidth: 2
                            }
                        }
                    }
                }
            }),
            showSuggestions && suggestions.length > 0 && /*#__PURE__*/ (0, _jsxruntime.jsx)(_material.Paper, {
                elevation: 8,
                sx: {
                    position: 'absolute',
                    top: '100%',
                    left: 0,
                    right: 0,
                    zIndex: 1300,
                    maxHeight: 400,
                    overflow: 'auto',
                    mt: 1,
                    borderRadius: 2
                },
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_material.List, {
                    ref: listRef,
                    dense: true,
                    role: "listbox",
                    "aria-label": "Search suggestions",
                    sx: {
                        py: 0
                    },
                    children: suggestions.map((suggestion, index)=>/*#__PURE__*/ (0, _jsxruntime.jsx)(_material.ListItem, {
                            disablePadding: true,
                            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)(_material.ListItemButton, {
                                id: `suggestion-${index}`,
                                selected: selectedIndex === index,
                                onClick: ()=>handleSuggestionSelect(suggestion),
                                role: "option",
                                "aria-selected": selectedIndex === index,
                                sx: {
                                    py: 1.5,
                                    '&.Mui-selected': {
                                        backgroundColor: 'primary.light',
                                        color: 'primary.contrastText',
                                        '&:hover': {
                                            backgroundColor: 'primary.main'
                                        }
                                    }
                                },
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_material.ListItemIcon, {
                                        sx: {
                                            minWidth: 40,
                                            color: 'inherit'
                                        },
                                        children: suggestion.emoji ? /*#__PURE__*/ (0, _jsxruntime.jsx)(_material.Typography, {
                                            variant: "h6",
                                            children: suggestion.emoji
                                        }) : getSuggestionIcon(suggestion)
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_material.ListItemText, {
                                        primary: /*#__PURE__*/ (0, _jsxruntime.jsxs)(_material.Box, {
                                            sx: {
                                                display: 'flex',
                                                alignItems: 'center',
                                                gap: 1
                                            },
                                            children: [
                                                highlightMatch(suggestion.label, value),
                                                suggestion.count && /*#__PURE__*/ (0, _jsxruntime.jsx)(_material.Chip, {
                                                    label: suggestion.count,
                                                    size: "small",
                                                    variant: "outlined",
                                                    sx: {
                                                        height: 20,
                                                        fontSize: '0.75rem'
                                                    }
                                                }),
                                                suggestion.subject && /*#__PURE__*/ (0, _jsxruntime.jsx)(_material.Chip, {
                                                    label: _gameData.SUBJECTS[suggestion.subject].icon,
                                                    size: "small",
                                                    sx: {
                                                        height: 20,
                                                        backgroundColor: getSubjectColor(suggestion.subject) + '20',
                                                        color: getSubjectColor(suggestion.subject),
                                                        border: `1px solid ${getSubjectColor(suggestion.subject)}50`
                                                    }
                                                })
                                            ]
                                        }),
                                        secondary: suggestion.gameTitle && /*#__PURE__*/ (0, _jsxruntime.jsxs)(_material.Typography, {
                                            variant: "caption",
                                            color: "text.secondary",
                                            children: [
                                                "from ",
                                                suggestion.gameTitle
                                            ]
                                        })
                                    })
                                ]
                            })
                        }, `${suggestion.type}-${suggestion.value}`))
                })
            }),
            isLoading && /*#__PURE__*/ (0, _jsxruntime.jsx)(_material.Box, {
                sx: {
                    position: 'absolute',
                    top: '50%',
                    right: 16,
                    transform: 'translateY(-50%)'
                }
            })
        ]
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxyZXBvc1xcZmFtaWx5LW9yaWVudGVkXFxzcmNcXHNoYXJlZFxcY29tcG9uZW50c1xcZm9ybXNcXEF1dG9jb21wbGV0ZVNlYXJjaEJhci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xyXG5cclxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgXHJcbiAgVGV4dEZpZWxkLCBcclxuICBJbnB1dEFkb3JubWVudCwgXHJcbiAgUGFwZXIsIFxyXG4gIExpc3QsIFxyXG4gIExpc3RJdGVtLCBcclxuICBMaXN0SXRlbUJ1dHRvbixcclxuICBMaXN0SXRlbUljb24sIFxyXG4gIExpc3RJdGVtVGV4dCxcclxuICBDaGlwLFxyXG4gIEJveCxcclxuICBUeXBvZ3JhcGh5XHJcbn0gZnJvbSAnQG11aS9tYXRlcmlhbCc7XHJcbmltcG9ydCBTZWFyY2hJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvU2VhcmNoJztcclxuaW1wb3J0IFRhZ0ljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9UYWcnO1xyXG5pbXBvcnQgU2Nob29sSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL1NjaG9vbCc7XHJcbmltcG9ydCBHYW1lcGFkSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL0dhbWVwYWQnO1xyXG5cclxuaW1wb3J0IHsgZ2FtZURpc2NvdmVyeSwgQXV0b2NvbXBsZXRlU3VnZ2VzdGlvbiwgU1VCSkVDVFMgfSBmcm9tICdAL3V0aWxzL2dhbWVEYXRhJztcclxuXHJcbmludGVyZmFjZSBBdXRvY29tcGxldGVTZWFyY2hCYXJQcm9wcyB7XHJcbiAgdmFsdWU6IHN0cmluZztcclxuICBvbkNoYW5nZTogKHZhbHVlOiBzdHJpbmcpID0+IHZvaWQ7XHJcbiAgcGxhY2Vob2xkZXI/OiBzdHJpbmc7XHJcbiAgZGVib3VuY2VNcz86IG51bWJlcjtcclxufVxyXG5cclxuLyoqXHJcbiAqIEVuaGFuY2VkIHNlYXJjaCBiYXIgd2l0aCBhdXRvY29tcGxldGUgc3VnZ2VzdGlvbnMgZnJvbSBnYW1lIHRpdGxlcywgdGFncywgYW5kIGxlYXJuaW5nIG9iamVjdGl2ZXNcclxuICogU3VwcG9ydHMga2V5Ym9hcmQgbmF2aWdhdGlvbiBhbmQgaGlnaGxpZ2h0ZWQgbWF0Y2hlc1xyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQXV0b2NvbXBsZXRlU2VhcmNoQmFyKHsgXHJcbiAgdmFsdWUsIFxyXG4gIG9uQ2hhbmdlLCBcclxuICBwbGFjZWhvbGRlciA9IFwiU2VhcmNoIGdhbWVzLCB0YWdzLCBvciBsZWFybmluZyBvYmplY3RpdmVzLi4uXCIsXHJcbiAgZGVib3VuY2VNcyA9IDMwMFxyXG59OiBBdXRvY29tcGxldGVTZWFyY2hCYXJQcm9wcykge1xyXG4gIGNvbnN0IFtzdWdnZXN0aW9ucywgc2V0U3VnZ2VzdGlvbnNdID0gdXNlU3RhdGU8QXV0b2NvbXBsZXRlU3VnZ2VzdGlvbltdPihbXSk7XHJcbiAgY29uc3QgW3Nob3dTdWdnZXN0aW9ucywgc2V0U2hvd1N1Z2dlc3Rpb25zXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbc2VsZWN0ZWRJbmRleCwgc2V0U2VsZWN0ZWRJbmRleF0gPSB1c2VTdGF0ZSgtMSk7XHJcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBcclxuICBjb25zdCBpbnB1dFJlZiA9IHVzZVJlZjxIVE1MSW5wdXRFbGVtZW50PihudWxsKTtcclxuICBjb25zdCBsaXN0UmVmID0gdXNlUmVmPEhUTUxVTGlzdEVsZW1lbnQ+KG51bGwpO1xyXG4gIGNvbnN0IGRlYm91bmNlUmVmID0gdXNlUmVmPE5vZGVKUy5UaW1lb3V0PigpO1xyXG5cclxuICAvLyBEZWJvdW5jZWQgc2VhcmNoIGZ1bmN0aW9uXHJcbiAgY29uc3QgZGVib3VuY2VkU2VhcmNoID0gdXNlQ2FsbGJhY2soKHF1ZXJ5OiBzdHJpbmcpID0+IHtcclxuICAgIGlmIChkZWJvdW5jZVJlZi5jdXJyZW50KSB7XHJcbiAgICAgIGNsZWFyVGltZW91dChkZWJvdW5jZVJlZi5jdXJyZW50KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZGVib3VuY2VSZWYuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBpZiAocXVlcnkudHJpbSgpKSB7XHJcbiAgICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBnYW1lRGlzY292ZXJ5LmdldEF1dG9jb21wbGV0ZVN1Z2dlc3Rpb25zKHF1ZXJ5LCA4KTtcclxuICAgICAgICBzZXRTdWdnZXN0aW9ucyhyZXN1bHRzKTtcclxuICAgICAgICBzZXRTaG93U3VnZ2VzdGlvbnMocmVzdWx0cy5sZW5ndGggPiAwKTtcclxuICAgICAgICBzZXRTZWxlY3RlZEluZGV4KC0xKTtcclxuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNldFN1Z2dlc3Rpb25zKFtdKTtcclxuICAgICAgICBzZXRTaG93U3VnZ2VzdGlvbnMoZmFsc2UpO1xyXG4gICAgICAgIHNldFNlbGVjdGVkSW5kZXgoLTEpO1xyXG4gICAgICB9XHJcbiAgICB9LCBkZWJvdW5jZU1zKTtcclxuICB9LCBbZGVib3VuY2VNc10pO1xyXG5cclxuICAvLyBIYW5kbGUgaW5wdXQgY2hhbmdlXHJcbiAgY29uc3QgaGFuZGxlSW5wdXRDaGFuZ2UgPSAobmV3VmFsdWU6IHN0cmluZykgPT4ge1xyXG4gICAgb25DaGFuZ2UobmV3VmFsdWUpO1xyXG4gICAgZGVib3VuY2VkU2VhcmNoKG5ld1ZhbHVlKTtcclxuICB9O1xyXG5cclxuICAvLyBIYW5kbGUgc3VnZ2VzdGlvbiBzZWxlY3Rpb25cclxuICBjb25zdCBoYW5kbGVTdWdnZXN0aW9uU2VsZWN0ID0gKHN1Z2dlc3Rpb246IEF1dG9jb21wbGV0ZVN1Z2dlc3Rpb24pID0+IHtcclxuICAgIG9uQ2hhbmdlKHN1Z2dlc3Rpb24udmFsdWUpO1xyXG4gICAgc2V0U2hvd1N1Z2dlc3Rpb25zKGZhbHNlKTtcclxuICAgIHNldFNlbGVjdGVkSW5kZXgoLTEpO1xyXG4gICAgaW5wdXRSZWYuY3VycmVudD8uZm9jdXMoKTtcclxuICB9O1xyXG5cclxuICAvLyBIYW5kbGUga2V5Ym9hcmQgbmF2aWdhdGlvblxyXG4gIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZXZlbnQ6IFJlYWN0LktleWJvYXJkRXZlbnQpID0+IHtcclxuICAgIGlmICghc2hvd1N1Z2dlc3Rpb25zIHx8IHN1Z2dlc3Rpb25zLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xyXG5cclxuICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XHJcbiAgICAgIGNhc2UgJ0Fycm93RG93bic6XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBzZXRTZWxlY3RlZEluZGV4KHByZXYgPT4gXHJcbiAgICAgICAgICBwcmV2IDwgc3VnZ2VzdGlvbnMubGVuZ3RoIC0gMSA/IHByZXYgKyAxIDogcHJldlxyXG4gICAgICAgICk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgXHJcbiAgICAgIGNhc2UgJ0Fycm93VXAnOlxyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgc2V0U2VsZWN0ZWRJbmRleChwcmV2ID0+IHByZXYgPiAwID8gcHJldiAtIDEgOiAtMSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgXHJcbiAgICAgIGNhc2UgJ0VudGVyJzpcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGlmIChzZWxlY3RlZEluZGV4ID49IDAgJiYgc2VsZWN0ZWRJbmRleCA8IHN1Z2dlc3Rpb25zLmxlbmd0aCkge1xyXG4gICAgICAgICAgaGFuZGxlU3VnZ2VzdGlvblNlbGVjdChzdWdnZXN0aW9uc1tzZWxlY3RlZEluZGV4XSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICAgIFxyXG4gICAgICBjYXNlICdFc2NhcGUnOlxyXG4gICAgICAgIHNldFNob3dTdWdnZXN0aW9ucyhmYWxzZSk7XHJcbiAgICAgICAgc2V0U2VsZWN0ZWRJbmRleCgtMSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gU2Nyb2xsIHNlbGVjdGVkIGl0ZW0gaW50byB2aWV3XHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChzZWxlY3RlZEluZGV4ID49IDAgJiYgbGlzdFJlZi5jdXJyZW50KSB7XHJcbiAgICAgIGNvbnN0IHNlbGVjdGVkRWxlbWVudCA9IGxpc3RSZWYuY3VycmVudC5jaGlsZHJlbltzZWxlY3RlZEluZGV4XSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgaWYgKHNlbGVjdGVkRWxlbWVudCkge1xyXG4gICAgICAgIHNlbGVjdGVkRWxlbWVudC5zY3JvbGxJbnRvVmlldyh7XHJcbiAgICAgICAgICBibG9jazogJ25lYXJlc3QnLFxyXG4gICAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LCBbc2VsZWN0ZWRJbmRleF0pO1xyXG5cclxuICAvLyBDbG9zZSBzdWdnZXN0aW9ucyB3aGVuIGNsaWNraW5nIG91dHNpZGVcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgaGFuZGxlQ2xpY2tPdXRzaWRlID0gKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBOb2RlO1xyXG4gICAgICBpZiAoaW5wdXRSZWYuY3VycmVudCAmJiAhaW5wdXRSZWYuY3VycmVudC5jb250YWlucyh0YXJnZXQpKSB7XHJcbiAgICAgICAgc2V0U2hvd1N1Z2dlc3Rpb25zKGZhbHNlKTtcclxuICAgICAgICBzZXRTZWxlY3RlZEluZGV4KC0xKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVDbGlja091dHNpZGUpO1xyXG4gICAgcmV0dXJuICgpID0+IGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XHJcbiAgfSwgW10pO1xyXG5cclxuICAvLyBHZXQgaWNvbiBmb3Igc3VnZ2VzdGlvbiB0eXBlXHJcbiAgY29uc3QgZ2V0U3VnZ2VzdGlvbkljb24gPSAoc3VnZ2VzdGlvbjogQXV0b2NvbXBsZXRlU3VnZ2VzdGlvbikgPT4ge1xyXG4gICAgc3dpdGNoIChzdWdnZXN0aW9uLnR5cGUpIHtcclxuICAgICAgY2FzZSAnZ2FtZSc6XHJcbiAgICAgICAgcmV0dXJuIDxHYW1lcGFkSWNvbiAvPjtcclxuICAgICAgY2FzZSAndGFnJzpcclxuICAgICAgICByZXR1cm4gPFRhZ0ljb24gLz47XHJcbiAgICAgIGNhc2UgJ29iamVjdGl2ZSc6XHJcbiAgICAgICAgcmV0dXJuIDxTY2hvb2xJY29uIC8+O1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiA8U2VhcmNoSWNvbiAvPjtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBHZXQgc3ViamVjdCBjb2xvclxyXG4gIGNvbnN0IGdldFN1YmplY3RDb2xvciA9IChzdWJqZWN0Pzoga2V5b2YgdHlwZW9mIFNVQkpFQ1RTKSA9PiB7XHJcbiAgICBpZiAoIXN1YmplY3QpIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICByZXR1cm4gU1VCSkVDVFNbc3ViamVjdF0/LmNvbG9yO1xyXG4gIH07XHJcblxyXG4gIC8vIEhpZ2hsaWdodCBtYXRjaGluZyB0ZXh0XHJcbiAgY29uc3QgaGlnaGxpZ2h0TWF0Y2ggPSAodGV4dDogc3RyaW5nLCBxdWVyeTogc3RyaW5nKSA9PiB7XHJcbiAgICBpZiAoIXF1ZXJ5LnRyaW0oKSkgcmV0dXJuIHRleHQ7XHJcbiAgICBcclxuICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChgKCR7cXVlcnkucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xcXVxcXFxdL2csICdcXFxcJCYnKX0pYCwgJ2dpJyk7XHJcbiAgICBjb25zdCBwYXJ0cyA9IHRleHQuc3BsaXQocmVnZXgpO1xyXG4gICAgXHJcbiAgICByZXR1cm4gcGFydHMubWFwKChwYXJ0LCBpbmRleCkgPT4gXHJcbiAgICAgIHJlZ2V4LnRlc3QocGFydCkgPyAoXHJcbiAgICAgICAgPEJveCBjb21wb25lbnQ9XCJzcGFuXCIga2V5PXtpbmRleH0gc3g9e3sgZm9udFdlaWdodDogNjAwLCBiYWNrZ3JvdW5kQ29sb3I6ICdwcmltYXJ5LmxpZ2h0JywgY29sb3I6ICdwcmltYXJ5LmNvbnRyYXN0VGV4dCcsIHB4OiAwLjUsIGJvcmRlclJhZGl1czogMC41IH19PlxyXG4gICAgICAgICAge3BhcnR9XHJcbiAgICAgICAgPC9Cb3g+XHJcbiAgICAgICkgOiBwYXJ0XHJcbiAgICApO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8Qm94IHN4PXt7IHBvc2l0aW9uOiAncmVsYXRpdmUnLCB3aWR0aDogJzEwMCUnIH19PlxyXG4gICAgICA8VGV4dEZpZWxkXHJcbiAgICAgICAgcmVmPXtpbnB1dFJlZn1cclxuICAgICAgICBsYWJlbD1cIlNlYXJjaFwiXHJcbiAgICAgICAgdmFyaWFudD1cIm91dGxpbmVkXCJcclxuICAgICAgICB2YWx1ZT17dmFsdWV9XHJcbiAgICAgICAgb25DaGFuZ2U9e2UgPT4gaGFuZGxlSW5wdXRDaGFuZ2UoZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgIG9uS2V5RG93bj17aGFuZGxlS2V5RG93bn1cclxuICAgICAgICBvbkZvY3VzPXsoKSA9PiB7XHJcbiAgICAgICAgICBpZiAoc3VnZ2VzdGlvbnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBzZXRTaG93U3VnZ2VzdGlvbnModHJ1ZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfX1cclxuICAgICAgICBmdWxsV2lkdGhcclxuICAgICAgICBzaXplPVwibWVkaXVtXCJcclxuICAgICAgICBwbGFjZWhvbGRlcj17cGxhY2Vob2xkZXJ9XHJcbiAgICAgICAgSW5wdXRQcm9wcz17e1xyXG4gICAgICAgICAgc3RhcnRBZG9ybm1lbnQ6IChcclxuICAgICAgICAgICAgPElucHV0QWRvcm5tZW50IHBvc2l0aW9uPVwic3RhcnRcIj5cclxuICAgICAgICAgICAgICA8U2VhcmNoSWNvbiAvPlxyXG4gICAgICAgICAgICA8L0lucHV0QWRvcm5tZW50PlxyXG4gICAgICAgICAgKSxcclxuICAgICAgICAgIGlucHV0UHJvcHM6IHtcclxuICAgICAgICAgICAgJ2FyaWEtbGFiZWwnOiAnU2VhcmNoIGdhbWVzIHdpdGggYXV0b2NvbXBsZXRlJyxcclxuICAgICAgICAgICAgJ2FyaWEtZXhwYW5kZWQnOiBzaG93U3VnZ2VzdGlvbnMsXHJcbiAgICAgICAgICAgICdhcmlhLWhhc3BvcHVwJzogJ2xpc3Rib3gnLFxyXG4gICAgICAgICAgICAnYXJpYS1hY3RpdmVkZXNjZW5kYW50Jzogc2VsZWN0ZWRJbmRleCA+PSAwID8gYHN1Z2dlc3Rpb24tJHtzZWxlY3RlZEluZGV4fWAgOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIGF1dG9Db21wbGV0ZTogJ29mZidcclxuICAgICAgICAgIH1cclxuICAgICAgICB9fVxyXG4gICAgICAgIHN4PXt7IFxyXG4gICAgICAgICAgYmFja2dyb3VuZDogJyNmZmYnLFxyXG4gICAgICAgICAgJyYgLk11aU91dGxpbmVkSW5wdXQtcm9vdCc6IHtcclxuICAgICAgICAgICAgJyYuTXVpLWZvY3VzZWQnOiB7XHJcbiAgICAgICAgICAgICAgJyYgLk11aU91dGxpbmVkSW5wdXQtbm90Y2hlZE91dGxpbmUnOiB7XHJcbiAgICAgICAgICAgICAgICBib3JkZXJXaWR0aDogMlxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH19XHJcbiAgICAgIC8+XHJcblxyXG4gICAgICB7LyogU3VnZ2VzdGlvbnMgRHJvcGRvd24gKi99XHJcbiAgICAgIHtzaG93U3VnZ2VzdGlvbnMgJiYgc3VnZ2VzdGlvbnMubGVuZ3RoID4gMCAmJiAoXHJcbiAgICAgICAgPFBhcGVyIFxyXG4gICAgICAgICAgZWxldmF0aW9uPXs4fVxyXG4gICAgICAgICAgc3g9e3sgXHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG4gICAgICAgICAgICB0b3A6ICcxMDAlJyxcclxuICAgICAgICAgICAgbGVmdDogMCxcclxuICAgICAgICAgICAgcmlnaHQ6IDAsXHJcbiAgICAgICAgICAgIHpJbmRleDogMTMwMCxcclxuICAgICAgICAgICAgbWF4SGVpZ2h0OiA0MDAsXHJcbiAgICAgICAgICAgIG92ZXJmbG93OiAnYXV0bycsXHJcbiAgICAgICAgICAgIG10OiAxLFxyXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6IDJcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPExpc3QgXHJcbiAgICAgICAgICAgIHJlZj17bGlzdFJlZn1cclxuICAgICAgICAgICAgZGVuc2UgXHJcbiAgICAgICAgICAgIHJvbGU9XCJsaXN0Ym94XCJcclxuICAgICAgICAgICAgYXJpYS1sYWJlbD1cIlNlYXJjaCBzdWdnZXN0aW9uc1wiXHJcbiAgICAgICAgICAgIHN4PXt7IHB5OiAwIH19XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIHtzdWdnZXN0aW9ucy5tYXAoKHN1Z2dlc3Rpb24sIGluZGV4KSA9PiAoXHJcbiAgICAgICAgICAgICAgPExpc3RJdGVtXHJcbiAgICAgICAgICAgICAgICBrZXk9e2Ake3N1Z2dlc3Rpb24udHlwZX0tJHtzdWdnZXN0aW9uLnZhbHVlfWB9XHJcbiAgICAgICAgICAgICAgICBkaXNhYmxlUGFkZGluZ1xyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxMaXN0SXRlbUJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICBpZD17YHN1Z2dlc3Rpb24tJHtpbmRleH1gfVxyXG4gICAgICAgICAgICAgICAgICBzZWxlY3RlZD17c2VsZWN0ZWRJbmRleCA9PT0gaW5kZXh9XHJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVN1Z2dlc3Rpb25TZWxlY3Qoc3VnZ2VzdGlvbil9XHJcbiAgICAgICAgICAgICAgICAgIHJvbGU9XCJvcHRpb25cIlxyXG4gICAgICAgICAgICAgICAgICBhcmlhLXNlbGVjdGVkPXtzZWxlY3RlZEluZGV4ID09PSBpbmRleH1cclxuICAgICAgICAgICAgICAgICAgc3g9e3tcclxuICAgICAgICAgICAgICAgICAgICBweTogMS41LFxyXG4gICAgICAgICAgICAgICAgICAgICcmLk11aS1zZWxlY3RlZCc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3ByaW1hcnkubGlnaHQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdwcmltYXJ5LmNvbnRyYXN0VGV4dCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAnJjpob3Zlcic6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncHJpbWFyeS5tYWluJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxMaXN0SXRlbUljb24gc3g9e3sgbWluV2lkdGg6IDQwLCBjb2xvcjogJ2luaGVyaXQnIH19PlxyXG4gICAgICAgICAgICAgICAgICB7c3VnZ2VzdGlvbi5lbW9qaSA/IChcclxuICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSB2YXJpYW50PVwiaDZcIj57c3VnZ2VzdGlvbi5lbW9qaX08L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0U3VnZ2VzdGlvbkljb24oc3VnZ2VzdGlvbilcclxuICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgIDwvTGlzdEl0ZW1JY29uPlxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICA8TGlzdEl0ZW1UZXh0XHJcbiAgICAgICAgICAgICAgICAgIHByaW1hcnk9e1xyXG4gICAgICAgICAgICAgICAgICAgIDxCb3ggc3g9e3sgZGlzcGxheTogJ2ZsZXgnLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgZ2FwOiAxIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAge2hpZ2hsaWdodE1hdGNoKHN1Z2dlc3Rpb24ubGFiZWwsIHZhbHVlKX1cclxuICAgICAgICAgICAgICAgICAgICAgIHtzdWdnZXN0aW9uLmNvdW50ICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgPENoaXAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9e3N1Z2dlc3Rpb24uY291bnR9IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbWFsbFwiIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3g9e3sgaGVpZ2h0OiAyMCwgZm9udFNpemU6ICcwLjc1cmVtJyB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICAgIHtzdWdnZXN0aW9uLnN1YmplY3QgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8Q2hpcCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17U1VCSkVDVFNbc3VnZ2VzdGlvbi5zdWJqZWN0XS5pY29ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbWFsbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3g9e3sgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDIwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBnZXRTdWJqZWN0Q29sb3Ioc3VnZ2VzdGlvbi5zdWJqZWN0KSArICcyMCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogZ2V0U3ViamVjdENvbG9yKHN1Z2dlc3Rpb24uc3ViamVjdCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IGAxcHggc29saWQgJHtnZXRTdWJqZWN0Q29sb3Ioc3VnZ2VzdGlvbi5zdWJqZWN0KX01MGBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICA8L0JveD5cclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICBzZWNvbmRhcnk9e3N1Z2dlc3Rpb24uZ2FtZVRpdGxlICYmIChcclxuICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSB2YXJpYW50PVwiY2FwdGlvblwiIGNvbG9yPVwidGV4dC5zZWNvbmRhcnlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIGZyb20ge3N1Z2dlc3Rpb24uZ2FtZVRpdGxlfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L0xpc3RJdGVtQnV0dG9uPlxyXG4gICAgICAgICAgICAgIDwvTGlzdEl0ZW0+XHJcbiAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgPC9MaXN0PlxyXG4gICAgICAgIDwvUGFwZXI+XHJcbiAgICAgICl9XHJcblxyXG4gICAgICB7LyogTG9hZGluZyBpbmRpY2F0b3IgY291bGQgYmUgYWRkZWQgaGVyZSBpZiBuZWVkZWQgKi99XHJcbiAgICAgIHtpc0xvYWRpbmcgJiYgKFxyXG4gICAgICAgIDxCb3ggc3g9e3sgcG9zaXRpb246ICdhYnNvbHV0ZScsIHRvcDogJzUwJScsIHJpZ2h0OiAxNiwgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgtNTAlKScgfX0+XHJcbiAgICAgICAgICB7LyogQ291bGQgYWRkIGEgc21hbGwgc3Bpbm5lciBoZXJlICovfVxyXG4gICAgICAgIDwvQm94PlxyXG4gICAgICApfVxyXG4gICAgPC9Cb3g+XHJcbiAgKTtcclxufSAiXSwibmFtZXMiOlsiQXV0b2NvbXBsZXRlU2VhcmNoQmFyIiwidmFsdWUiLCJvbkNoYW5nZSIsInBsYWNlaG9sZGVyIiwiZGVib3VuY2VNcyIsInN1Z2dlc3Rpb25zIiwic2V0U3VnZ2VzdGlvbnMiLCJ1c2VTdGF0ZSIsInNob3dTdWdnZXN0aW9ucyIsInNldFNob3dTdWdnZXN0aW9ucyIsInNlbGVjdGVkSW5kZXgiLCJzZXRTZWxlY3RlZEluZGV4IiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwiaW5wdXRSZWYiLCJ1c2VSZWYiLCJsaXN0UmVmIiwiZGVib3VuY2VSZWYiLCJkZWJvdW5jZWRTZWFyY2giLCJ1c2VDYWxsYmFjayIsInF1ZXJ5IiwiY3VycmVudCIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJ0cmltIiwicmVzdWx0cyIsImdhbWVEaXNjb3ZlcnkiLCJnZXRBdXRvY29tcGxldGVTdWdnZXN0aW9ucyIsImxlbmd0aCIsImhhbmRsZUlucHV0Q2hhbmdlIiwibmV3VmFsdWUiLCJoYW5kbGVTdWdnZXN0aW9uU2VsZWN0Iiwic3VnZ2VzdGlvbiIsImZvY3VzIiwiaGFuZGxlS2V5RG93biIsImV2ZW50Iiwia2V5IiwicHJldmVudERlZmF1bHQiLCJwcmV2IiwidXNlRWZmZWN0Iiwic2VsZWN0ZWRFbGVtZW50IiwiY2hpbGRyZW4iLCJzY3JvbGxJbnRvVmlldyIsImJsb2NrIiwiYmVoYXZpb3IiLCJoYW5kbGVDbGlja091dHNpZGUiLCJ0YXJnZXQiLCJjb250YWlucyIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJnZXRTdWdnZXN0aW9uSWNvbiIsInR5cGUiLCJHYW1lcGFkSWNvbiIsIlRhZ0ljb24iLCJTY2hvb2xJY29uIiwiU2VhcmNoSWNvbiIsImdldFN1YmplY3RDb2xvciIsInN1YmplY3QiLCJ1bmRlZmluZWQiLCJTVUJKRUNUUyIsImNvbG9yIiwiaGlnaGxpZ2h0TWF0Y2giLCJ0ZXh0IiwicmVnZXgiLCJSZWdFeHAiLCJyZXBsYWNlIiwicGFydHMiLCJzcGxpdCIsIm1hcCIsInBhcnQiLCJpbmRleCIsInRlc3QiLCJCb3giLCJjb21wb25lbnQiLCJzeCIsImZvbnRXZWlnaHQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJweCIsImJvcmRlclJhZGl1cyIsInBvc2l0aW9uIiwid2lkdGgiLCJUZXh0RmllbGQiLCJyZWYiLCJsYWJlbCIsInZhcmlhbnQiLCJlIiwib25LZXlEb3duIiwib25Gb2N1cyIsImZ1bGxXaWR0aCIsInNpemUiLCJJbnB1dFByb3BzIiwic3RhcnRBZG9ybm1lbnQiLCJJbnB1dEFkb3JubWVudCIsImlucHV0UHJvcHMiLCJhdXRvQ29tcGxldGUiLCJiYWNrZ3JvdW5kIiwiYm9yZGVyV2lkdGgiLCJQYXBlciIsImVsZXZhdGlvbiIsInRvcCIsImxlZnQiLCJyaWdodCIsInpJbmRleCIsIm1heEhlaWdodCIsIm92ZXJmbG93IiwibXQiLCJMaXN0IiwiZGVuc2UiLCJyb2xlIiwiYXJpYS1sYWJlbCIsInB5IiwiTGlzdEl0ZW0iLCJkaXNhYmxlUGFkZGluZyIsIkxpc3RJdGVtQnV0dG9uIiwiaWQiLCJzZWxlY3RlZCIsIm9uQ2xpY2siLCJhcmlhLXNlbGVjdGVkIiwiTGlzdEl0ZW1JY29uIiwibWluV2lkdGgiLCJlbW9qaSIsIlR5cG9ncmFwaHkiLCJMaXN0SXRlbVRleHQiLCJwcmltYXJ5IiwiZGlzcGxheSIsImFsaWduSXRlbXMiLCJnYXAiLCJjb3VudCIsIkNoaXAiLCJoZWlnaHQiLCJmb250U2l6ZSIsImljb24iLCJib3JkZXIiLCJzZWNvbmRhcnkiLCJnYW1lVGl0bGUiLCJ0cmFuc2Zvcm0iXSwibWFwcGluZ3MiOiJBQUFBOzs7OzsrQkE4QkE7OztDQUdDLEdBQ0Q7OztlQUF3QkE7Ozs7dUJBaENpQzswQkFhbEQ7K0RBQ2dCOzREQUNIOytEQUNHO2dFQUNDOzBCQUV3Qzs7Ozs7O0FBYWpELFNBQVNBLHNCQUFzQixFQUM1Q0MsS0FBSyxFQUNMQyxRQUFRLEVBQ1JDLGNBQWMsK0NBQStDLEVBQzdEQyxhQUFhLEdBQUcsRUFDVztJQUMzQixNQUFNLENBQUNDLGFBQWFDLGVBQWUsR0FBR0MsSUFBQUEsZUFBUSxFQUEyQixFQUFFO0lBQzNFLE1BQU0sQ0FBQ0MsaUJBQWlCQyxtQkFBbUIsR0FBR0YsSUFBQUEsZUFBUSxFQUFDO0lBQ3ZELE1BQU0sQ0FBQ0csZUFBZUMsaUJBQWlCLEdBQUdKLElBQUFBLGVBQVEsRUFBQyxDQUFDO0lBQ3BELE1BQU0sQ0FBQ0ssV0FBV0MsYUFBYSxHQUFHTixJQUFBQSxlQUFRLEVBQUM7SUFFM0MsTUFBTU8sV0FBV0MsSUFBQUEsYUFBTSxFQUFtQjtJQUMxQyxNQUFNQyxVQUFVRCxJQUFBQSxhQUFNLEVBQW1CO0lBQ3pDLE1BQU1FLGNBQWNGLElBQUFBLGFBQU07SUFFMUIsNEJBQTRCO0lBQzVCLE1BQU1HLGtCQUFrQkMsSUFBQUEsa0JBQVcsRUFBQyxDQUFDQztRQUNuQyxJQUFJSCxZQUFZSSxPQUFPLEVBQUU7WUFDdkJDLGFBQWFMLFlBQVlJLE9BQU87UUFDbEM7UUFFQUosWUFBWUksT0FBTyxHQUFHRSxXQUFXO1lBQy9CLElBQUlILE1BQU1JLElBQUksSUFBSTtnQkFDaEJYLGFBQWE7Z0JBQ2IsTUFBTVksVUFBVUMsdUJBQWEsQ0FBQ0MsMEJBQTBCLENBQUNQLE9BQU87Z0JB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